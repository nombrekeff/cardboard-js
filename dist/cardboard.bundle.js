var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t,e){const n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}t.d(e,{wc:()=>f,Kh:()=>a,vp:()=>R,rU:()=>B,F0:()=>N,iF:()=>C,ub:()=>g,om:()=>d,nU:()=>h,Dk:()=>s,ZP:()=>$,og:()=>y,lW:()=>v,TB:()=>I,xZ:()=>o,S1:()=>w,Kn:()=>i,EP:()=>O,SB:()=>p,xj:()=>n,Nd:()=>A,C6:()=>S,_q:()=>m,fL:()=>l,Qs:()=>r,Uq:()=>_});const s=t=>t.replace(/([A-Z])/g,(t=>`-${t.toLowerCase()}`));function i(t){return"object"==typeof t&&!(t instanceof Array)}const r=t=>JSON.parse(t),o=t=>JSON.stringify(t),h=(t,...e)=>"function"==typeof t?t(...e):t;class a{generateCss(t){let e=t instanceof Array?t:[t],n="";for(const t of e)for(const e in t)n+=this.generateBlock(e,t[e]);return n}generateBlock(t,e){return this.generateBlockContent(t,e).join("")}generateBlockContent(t,e){let n="",s=[];for(const r in e)i(e[r])?s.push(this.generateBlockContent(t+r,e[r])):e[r]&&(n+=this.generateStyle(r,e[r]));return s.unshift(`${t}{${n}}`),s}generateStyle(t,e){return`${s(t)}:${e};`}}function l(t,e){const n=document.createTextNode(""),s=/\B\$([0-9]+|[a-z][a-z0-9_$]*)/gi,r=()=>{n.nodeValue=e?t.replace(s,((t,n)=>null!=e[n]?e[n].toString():t)):t};if(e&&i(e))for(let n in e)t.includes(`$${n}`)&&e[n].changed(r);return r(),n}var c=function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))};let u={attachedTag:null,attachedTagStack:[],css:new a};function d(){return u.attachedTag}class f{get parent(){return this._parent}set parent(t){this._parent=t}get children(){return this._getElementChildren(this.element),this._cachedChildren}get value(){return this.element.value}get style(){return this.element.style}setValue(t){return this.element.value=t,this}get consumeValue(){const t=this.value;return this.clear(),t}get id(){return this.element.id}setId(t){return this.element.id=t,this}constructor(t,e=[],n=!1){if(this._parent=null,this._children=[],this._cachedChildren=[],this._attachable=!1,this._meta={isHidden:!1,nextSiblingID:null},this._attachable=n,"string"==typeof t&&t.match(/\(.+\)/))this._attachable=!1,this.element=document.querySelector(t.match(/\((.+)\)/)[1]);else if("string"==typeof t)this.element=document.createElement(t);else{if(!(t instanceof HTMLElement))throw new Error("Invalid argument 0");this._attachable=!1,this.element=t}u.attachedTag&&this._attachable&&u.attachedTag.append(this),e.length>0&&this.setChildren(e)}setChildren(t){return this.element.replaceChildren(...this._mapChildren(t)),this._children=t,this}append(...t){return this.element.append(...this._mapChildren(t)),this._children.push(...t),this}prepend(...t){return this.element.prepend(...this._mapChildren(t)),this._children.unshift(...t),this}consume(t,e){return t.changed((t=>e(this,t))),e(this,t),this}show(){return c(this,void 0,void 0,(function*(){if(!this.parent.children.includes(this.element)){const t=this.parent._children.indexOf(this);if(0==t)this.parent.element.prepend(this.element);else if(t==this.parent._children.length-1)this.parent.element.append(this.element);else{let e=0;for(let n=t-1;n>=0;n--){const t=this.parent._children[n];t instanceof f&&t._meta.isHidden&&e++}const n=this.parent.element.childNodes[t-e];this.parent.element.insertBefore(this.element,n)}}return this._meta.isHidden=!1,!0}))}hide(){return c(this,void 0,void 0,(function*(){this.parent.children.includes(this.element)&&(yield this.remove(),this._meta.isHidden=!0)}))}doIf(t,e,n,s=!1){if(s){let t=e;e=n,n=t}const i=t=>{t?e(t):n(t)};return t.changed(i),i(t),this}doIfNot(t,e,n){return this.doIf(t,e,n,!0)}hideIf(t,e=!1){const n=t=>{const n=e?!t:!!t;this._meta.isHidden=n,this.parent&&(n?this.hide():this.show())};return t.changed(n),n(t),this}hideIfNot(t){return this.hideIf(t,!0)}classIf(t,e,n=!1){return this.doIf(t,(()=>this.addClass(...h(e,this))),(()=>this.rmClass(...h(e,this))),n)}classIfNot(t,e){return this.classIf(t,e,!0)}textIf(t,e,n="",s=!1){return this.doIf(t,(()=>this.text(h(e,this))),(()=>this.text(h(n,this))),s)}textIfNot(t,e,n=""){return this.textIf(t,e,n,!0)}attrIf(t,e,n="",s=!1){return this.doIf(t,(()=>this.addAttr(e,h(n,this))),(()=>this.rmAttr(e)),s)}attrIfNot(t,e,n=""){return this.attrIf(t,e,n,!0)}disableIf(t,e=!1){return this.attrIf(t,"disabled","",e)}disableIfNot(t){return this.disableIf(t,!0)}styleIf(t,e,n="",s=!1){return this.doIf(t,(()=>this.addStyle(e,h(n,this))),(()=>this.rmStyle(e)),s)}styleIfNot(t,e,n=""){return this.styleIf(t,e,n,!0)}stylesIf(t,e,n=!1){return this.doIf(t,(()=>this.setStyle(h(e,this))),(()=>this.rmStyle(...Object.keys(e))),n)}stylesIfNot(t,e){return this.stylesIf(t,e,!0)}listen(t,e,n){return t.on(e,((t,e)=>n(this,t,e)))}text(t,e){return null==t?this.element.textContent:e&&t?this.setChildren([l(t,e)]):(this.element.textContent=t,this)}config(t){if(t.attr&&this.setAttrs(t.attr),t.classList&&this.addClass(...t.classList),t.className&&this.className(t.className),t.style&&this.setStyle(t.style),t.text&&this.text(t.text),t.value&&this.setValue(t.value),t.children&&this.append(...t.children),t.on)for(const e in t.on)this.on(e,t.on[e]);return this}addClass(...t){return this.element.classList.add(...t),this}className(t){return this.element.className=t,this}rmClass(...t){for(let e of t)this.element.classList.remove(e);return this}hasClass(...t){for(let e of t)if(!this.element.classList.contains(e))return!1;return!0}replaceClass(t,e){return this.element.classList.replace(t,e),this}toggleClass(t){return this.hasClass(t)?this.rmClass(t):this.addClass(t)}addStyle(t,e){return this.element.style[t]=e,this}setStyle(t){for(let e in t)this.addStyle(e,t[e]);return this}rmStyle(...t){for(let e of t)this.element.style.removeProperty(e);return this}hasStyle(...t){for(let e of t)if(!this.element.style.getPropertyValue(s(e)))return!1;return!0}setAttrs(t){for(let e in t)this.addAttr(e,t[e]);return this}addAttr(t,e=""){return this.element.attributes[t]=e,this.element.setAttribute(t,e),this}rmAttr(...t){for(let e of t)this.element.removeAttribute(e),delete this.element.attributes[e];return this}hasAttr(...t){for(let e of t)if(!(e in this.element.attributes))return!1;return!0}getAttr(t){return this.element.attributes[t]}when(t,e){return{changed:n=>{this.on(t,(()=>n(e(this))))}}}on(t,e){return e&&this.element.addEventListener(t,(t=>e(this,t))),this}once(t,e){if(e){const n=s=>{e(this,s),this.element.removeEventListener(t,n)};this.element.addEventListener(t,n)}return this}clicked(t){return this.on("click",t)}keyPressed(t,e){return e?this.on("keypress",((n,s)=>{s.code!=e&&s.key!=e||t(this,s)})):this.on("keypress",t)}changed(t){return this.on("change",t)}submited(t){return this.on("submit",t)}remove(){return c(this,void 0,void 0,(function*(){return yield this.element.remove(),this}))}clear(){return this.element.value="",this.element.dispatchEvent(new InputEvent("input")),this}disable(){return this.setDisabled(!0)}enable(){return this.setDisabled(!1)}setDisabled(t){return t?this.addAttr("disabled"):this.rmAttr("disabled")}q(t){const e=this.element.querySelector(t);if(e)return new f(e)}find(t){for(const e of this._children)if(t(e))return e}findTag(t){for(const e of this._children)if(e instanceof f&&t(e))return e}_setChildrenParent(t){return t instanceof f&&(t.parent=this),t}_childrenFilterPredicate(t){return!(t instanceof f&&t._meta.isHidden)}_getElementForChild(t){return"string"==typeof t?document.createTextNode(t):t instanceof f?t.element:t instanceof Node?t:null}_getElementChildren(t){this._mutationObserver||(this._mutationObserver=new MutationObserver((()=>{this._setCachedChildren(t)})),this._mutationObserver.observe(this.element,{childList:!0}),this._setCachedChildren(t))}_setCachedChildren(t){let e=t.childNodes,n=[],s=e.length;for(;s--;)1==e[s].nodeType&&n.unshift(e[s]);this._cachedChildren=n}_mapChildren(t){return t.map(this._setChildrenParent.bind(this)).filter(this._childrenFilterPredicate.bind(this)).map(this._getElementForChild)}}function m(t,e=[],n=!1){return new f(t,e,n)}function p(t,e,n,s){var i,r;let o=!1;if(s){const e=t.element.remove;t.element.remove=()=>c(this,void 0,void 0,(function*(){const n=s(t);return(!n||n instanceof Promise&&(yield n))&&e.call(t.element),n}))}if(e){const e=t.show;t.show=()=>c(this,void 0,void 0,(function*(){const n=e.call(t);return n instanceof Promise?yield n:n}))}const h=new MutationObserver(((s,i)=>c(this,void 0,void 0,(function*(){let r=!1,h=!1;for(let i of s)e&&Array.from(i.addedNodes).includes(t.element)&&(r=!0),n&&Array.from(i.removedNodes).includes(t.element)&&(h=!0);if(r&&e){const n=e(t);n instanceof Promise&&(yield n),o||(i.disconnect(),i.observe(t.element.parentElement,{childList:!0}),o=!0)}h&&n&&n(t)}))));return h.observe(null!==(r=null===(i=t.parent)||void 0===i?void 0:i.element)&&void 0!==r?r:document.body,{childList:!0,subtree:!0}),h}const _=(t,e)=>(p(t,e.start,e.removed,e.beforeRemove),t);function g(t){return u.attachedTag&&u.attachedTagStack.push(u.attachedTag),u.attachedTag=t,t}function y(){u.attachedTagStack.length>0?u.attachedTag=u.attachedTagStack.pop():u.attachedTag=null}function v(){u.attachedTag=null,u.attachedTagStack=[]}function w(t={root:"body"}){const e=new f(`(${t.root})`);return g(e),e}const b={ul:(t,e=!1)=>m("ul",t.map((t=>m("li",[t],e)))),style:(t,e=!1)=>m("style",[u.css.generateCss(t)],e)},C=new Proxy({},{get:(t,e,n)=>{const s=e.toString(),i=(...t)=>b[s]?b[s](t,!1):m(s,t);return Object.defineProperty(i,"attach",{get:()=>(...t)=>b[s]?b[s](t,!0):m(s,t,!0)}),i}});function S(t,e){let n={},s=[];e&&s.push(e);const r=(t,e)=>{n[t]||(n[t]=[]),n[t].includes(e)||n[t].push(e)},o=(t,e)=>{if(n[e])for(const s of n[e])s(t[e]);for(const e of s)e(t)};for(let e of Object.getOwnPropertyNames(t))(i(t[e])||t[e]instanceof Array)&&(t[e]=S(t[e],(()=>o(t,e))));const h=new Proxy(t,{deleteProperty:function(t,e){return o(t,e),delete t[e],!0},get:(t,e)=>((t,e)=>{const n=t[e];try{i(t[e])?n.changed=t=>r(e,t):n.__proto__&&(n.__proto__.changed=t=>r(e,t))}catch(t){}return n})(t,e),set:(t,e,n)=>"changed"==e?(t[e]=n,!0):(t[e]=n,o(t,e),!0)});return h.changed=s.push.bind(s),h}class R{constructor(){this._listeners=[]}listen(t){return this._listeners.push(t),this}remove(t){n(t,this._listeners)}dispatch(t){return this._listeners.forEach((e=>e(t))),this}}function I(){return new R}const x=/[\-\[\]{}()+?.,\\\^$|#\s]/g,E=/([:*])(\w+)/g;function P(t,e){var n=exports.toString.call(t).charAt(8);return"R"===n?t.test(e):"F"===n?t(e):t==e}const k=(t,e={})=>{let n={},s=[],i=t;return"string"==typeof i?(i=i.replace(x,"\\$&"),i=i.replace(E,(function(t,e,n){return s.push(n),":"===e?"([^/]*)":"(.*)"})),i=new RegExp("^"+i+"$"),n.parse=function(t){let n,r,o=0,h={},a=t.match(i);if(!a)return null;for(;o<s.length;){if(n=s[o++],r=a[o],e&&n in e&&!P(e[n],r))return null;h[n]=r}return h},n.stringify=function(e){let n,s,i=t;for(n in e)s=new RegExp("[:*]"+n+"\\b"),i=i.replace(s,e[n]);return i.replace(E,"")}):(n.parse=function(t){let e=t.match(i);return e&&{captures:e.slice(1)}},n.stringify=function(){return""}),n};const{div:L,a:T}=C;class N{get currentRoute(){return this._currentRoute}constructor(t){var e;this._routes={},this._routeMatchers=[],this.params={},this.query=new URLSearchParams,this._options=t,this._rootParent=t.rootParent,this._window=null!==(e=t.window)&&void 0!==e?e:window,this._location=this._window.location,this._history=this._window.history,this._initRouteMatchers(),this._modifyPushState(),this._listenEvents(),this.navigate(this._options.initialRoute)}navigate(t,e){const n=new URLSearchParams(e),s=n.toString(),i=this.query.toString();t==this._currentRoute&&s===i||(this.query=n,this._history.pushState("data","",t+(s?"?"+s:"")))}_setRoute(){return t=this,e=void 0,s=function*(){this._currentRouteTag&&(yield this._currentRouteTag.hide());const t=this._getRoute();t.parent?yield t.show():(this._hookLifecycle(t),this._rootParent.append(t)),this._currentRouteTag=t},new((n=void 0)||(n=Promise))((function(i,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}));var t,e,n,s}_hookLifecycle(t){const e=this._options;(e.remove||e.start)&&p(t,e.start?e.start:null,e.remove?e.remove:null,e.beforeRemove?e.beforeRemove:null)}_getEffectiveRoute(){let t,e=this._currentRoute,n=1e4;for(;"string"==typeof(t=this._options.routes[e])&&n--&&"string"==typeof t;)e=t;return e}_getRoute(){let t=this._getEffectiveRoute(),e=t;this.query=new URLSearchParams(this._location.search);let n=!1;for(let t of this._routeMatchers){const s=t.matcher.parse(e);if(s){e=t.key,this.params=s,n=!0;break}}if(n||(e=this._options.fallbackRoute),!(e in this._options.routes))return this._options.noRouteBuilder?this._options.noRouteBuilder(this):L("No route found for: "+t);if(this._routes[e])return this._routes[e].show(),this._routes[e];let s=this._options.routes[e];if("function"!=typeof s)throw new Error("Can find route builder for "+this._currentRoute);return this._routes[e]=s(this)}_setCurrentRoute(){this.currentRoute!=this._location.pathname&&(this._currentRoute=this._location.pathname,this._setRoute())}_listenEvents(){this._window.addEventListener("popstate",this._setCurrentRoute.bind(this)),this._window.addEventListener("pushstate",this._setCurrentRoute.bind(this))}_modifyPushState(){const t=this._history.pushState;this._history.pushState=(...e)=>{t.call(this._history,...e),this._window.dispatchEvent(new window.Event("pushstate"))}}_initRouteMatchers(){for(let t in this._options.routes)this._routeMatchers.push({key:t,matcher:k(t)})}}let A;function O(t){return A=new N(t)}function B(t,e,n){return T(t).addAttr("href","javascript:;").setStyle({margin:"0 8px 0 0"}).clicked((()=>{if(!A)throw new Error("Link can\t navigate, there is no router available");A.navigate(e,n)}))}const $={};var j=e.wc,q=e.Kh,F=e.vp,U=e.rU,M=e.F0,D=e.iF,H=e.ub,V=e.om,Z=e.nU,J=e.Dk,K=e.ZP,z=e.og,Q=e.lW,W=e.TB,G=e.xZ,X=e.S1,Y=e.Kn,tt=e.EP,et=e.SB,nt=e.xj,st=e.Nd,it=e.C6,rt=e._q,ot=e.fL,ht=e.Qs,at=e.Uq;export{j as CTag,q as CssGenerator,F as EventEmitter,U as Link,M as Router,D as allTags,H as attach,V as attached,Z as callOrReturn,J as camelToDash,K as default,z as detach,Q as detachAll,W as eventEmitter,G as fromJson,X as init,Y as isObject,tt as makeRouter,et as onLifecycle,nt as removeFromList,st as router,it as state,rt as tag,ot as text,ht as toJson,at as withLifecycle};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJoSSxLQUFLakwsT0FDckVBLEtBQUtpUixRQUFROUgsaUJBQ1gsWUFDQW5KLEtBQUtpVCxpQkFBaUJoSSxLQUFLakwsTUFFL0IsQ0FFUSxnQkFBQXdSLEdBQ04sTUFBTVEsRUFBWWhTLEtBQUtxUixTQUFTVyxVQUNoQ2hTLEtBQUtxUixTQUFTVyxVQUFZLElBQUl2UyxLQUM1QnVTLEVBQVU3VCxLQUFLNkIsS0FBS3FSLFlBQWE1UixHQUNqQ08sS0FBS2lSLFFBQVF0SCxjQUFjLElBQUl1SCxPQUFPaUMsTUFBTSxhQUFhLENBRTdELENBRU8sa0JBQUE1QixHQUNMLElBQUssSUFBSTZCLEtBQWNwVCxLQUFLOFEsU0FBUzJCLE9BQ25DelMsS0FBSzJRLGVBQWVuUSxLQUFLLENBQ3ZCL0MsSUFBSzJWLEVBQ0xQLFFBQVN0RCxFQUFhNkQsSUFHNUIsRUFHSyxJQUFJQyxFQUVKLFNBQVNDLEVBQ2RDLEdBRUEsT0FBUUYsRUFBUyxJQUFJOUMsRUFBVWdELEVBQ2pDLENBRU8sU0FBU0MsRUFDZGpQLEVBQ0FxTixFQUNBaEIsR0FFQSxPQUFPTixFQUFFL0wsR0FDTjRCLFFBQVEsT0FBUSxnQkFDaEJXLFNBQVMsQ0FBRTJNLE9BQVEsY0FDbkJuSyxTQUFRLEtBQ1AsSUFBSytKLEVBQ0gsTUFBTSxJQUFJNVAsTUFBTSxxREFHbEI0UCxFQUFPM0IsU0FBU0UsRUFBTWhCLEVBQU0sR0FFbEMsQ0N6TUEsU0FBaUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhcmRib2FyZC1qcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYXJkYm9hcmQtanMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy9jc3MtZ2VuZXJhdG9yLnRzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy90ZXh0LnRzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy90YWcudHMiLCJ3ZWJwYWNrOi8vY2FyZGJvYXJkLWpzLy4vc3JjL3N0YXRlLnRzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy9ldmVudHMudHMiLCJ3ZWJwYWNrOi8vY2FyZGJvYXJkLWpzLy4vc3JjL3JvdXRpbmcvcm91dGUtbWF0Y2hlci50cyIsIndlYnBhY2s6Ly9jYXJkYm9hcmQtanMvLi9zcmMvcm91dGluZy9yb3V0aW5nLnRzIiwid2VicGFjazovL2NhcmRib2FyZC1qcy8uL3NyYy9jYXJkYm9hcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvKiogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXkgaWYgaXQgZXhpc3RzLiBJdCByZXR1cm5zIHdoZXRoZXIgaXQgd2FzIHJlbW92ZWQgb3Igbm90ICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJvbUxpc3Q8VD4oaXRlbTogVCwgbGlzdDogVFtdKSB7XG4gIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGl0ZW0pO1xuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBjb25zdCBjYW1lbFRvRGFzaCA9IChzdHIpID0+XG4gIHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csICh2YWwpID0+IGAtJHt2YWwudG9Mb3dlckNhc2UoKX1gKTtcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvYmo6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIShvYmogaW5zdGFuY2VvZiBBcnJheSk7XG59XG5leHBvcnQgY29uc3QgdG9Kc29uID0gKHBvc3NpYmx5SnNvblN0cmluZykgPT4gSlNPTi5wYXJzZShwb3NzaWJseUpzb25TdHJpbmcpO1xuZXhwb3J0IGNvbnN0IGZyb21Kc29uID0gKHBvc3NpYmx5SnNvbikgPT4gSlNPTi5zdHJpbmdpZnkocG9zc2libHlKc29uKTtcbmV4cG9ydCBjb25zdCBjYWxsT3JSZXR1cm4gPSA8VD4odmFsOiBUIHwgKCguLi5hcmdzOiBhbnkpID0+IFQpLCAuLi5hcmdzKTogVCA9PiB7XG4gIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuICh2YWwgYXMgYW55KSguLi5hcmdzKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcbiIsImltcG9ydCB0eXBlIHsgTmVzdGVkU3R5bGVNYXAgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGNhbWVsVG9EYXNoLCBpc09iamVjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBDc3NHZW5lcmF0b3Ige1xuICBnZW5lcmF0ZUNzcyhzdHlsZVNoZWV0OiB7IFtrZXk6IHN0cmluZ106IE5lc3RlZFN0eWxlTWFwIH0gfCB7IFtrZXk6IHN0cmluZ106IE5lc3RlZFN0eWxlTWFwIH1bXSkge1xuICAgIGxldCBzdHlsZXNoZWV0cyA9IHN0eWxlU2hlZXQgaW5zdGFuY2VvZiBBcnJheSA/IHN0eWxlU2hlZXQgOiBbc3R5bGVTaGVldF07XG4gICAgbGV0IGdlbmVyYXRlZENzcyA9ICcnO1xuXG4gICAgZm9yIChjb25zdCBzaGVldCBvZiBzdHlsZXNoZWV0cykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2hlZXQpIHtcbiAgICAgICAgZ2VuZXJhdGVkQ3NzICs9IHRoaXMuZ2VuZXJhdGVCbG9jayhrZXksIHNoZWV0W2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVkQ3NzO1xuICB9XG5cbiAgZ2VuZXJhdGVCbG9jayhzZWxlY3Rvcjogc3RyaW5nLCBzdHlsZTogTmVzdGVkU3R5bGVNYXApIHtcbiAgICBsZXQgYmxvY2tzID0gdGhpcy5nZW5lcmF0ZUJsb2NrQ29udGVudChzZWxlY3Rvciwgc3R5bGUpO1xuICAgIHJldHVybiBibG9ja3Muam9pbignJyk7XG4gIH1cblxuICBnZW5lcmF0ZUJsb2NrQ29udGVudChzZWxlY3Rvcjogc3RyaW5nLCBzdHlsZTogTmVzdGVkU3R5bGVNYXApOiBzdHJpbmdbXSB7XG4gICAgbGV0IGluc2lkZSA9ICcnO1xuICAgIGxldCBibG9ja3MgPSBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIHN0eWxlKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc3R5bGVba2V5XSkpIHtcbiAgICAgICAgYmxvY2tzLnB1c2godGhpcy5nZW5lcmF0ZUJsb2NrQ29udGVudChzZWxlY3RvciArIGtleSwgc3R5bGVba2V5XSkpO1xuICAgICAgfSBcbiAgICAgIGVsc2UgaWYgKHN0eWxlW2tleV0pIHtcbiAgICAgICAgaW5zaWRlICs9IHRoaXMuZ2VuZXJhdGVTdHlsZShrZXksIHN0eWxlW2tleV0gYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBibG9ja3MudW5zaGlmdChgJHtzZWxlY3Rvcn17JHtpbnNpZGV9fWApO1xuXG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuXG4gIGdlbmVyYXRlU3R5bGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke2NhbWVsVG9EYXNoKG5hbWUpfToke3ZhbHVlfTtgO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFN0YXRlIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGEgKipUZXh0Tm9kZSoqIGZyb20gdGV4dCwgYW5kIG9wdGlvbmFsbHkgcmVhY3RzIHRvIGEge0BsaW5rIFN0YXRlfSwgaW50ZXJwb2xhdGluZyB0aGUgZGVmaW5lZCB2YXJpYWJsZXMgaW4gdGhlIHRleHQgZWFjaCB0aW1lIHRoZSBzdGF0ZSBjaGFuZ2VzLlxuICpcbiAqIElmIHlvdSBwcm92aWRlIGEge0BsaW5rIFN0YXRlfSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCB0aGUgdGV4dCB3aWxsIGFjdCBhcyBhIHRlbXBsYXRlXG4gKiBhbmQgY2FuIHJlZmVyZW5jZSBwcm9wZXJ0aWVzIGluIHRoZSBzdGF0ZTogYCRjb3VudGAsIGAkc29tZVZhbHVlYC5cbiAqXG4gKiBXaGVuIHRoZSBzdGF0ZSBwcm9wZXJ0aWVzIGNoYW5nZXMsIHRoZSB0ZXh0IG5vZGUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgd2l0aCB0aGUgbmV3IHRleHQuXG4gKiBPbmx5IHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHJlZmVyZW5jZWQgaW4gdGhlIHRlbXBsYXRlIHdpbGwgYmUgbGlzdGVuZWQgdG8uXG4gKlxuICogKipOT1RFKiogSWYgeW91J3JlIG5vdCBpbnRlcnBvbGF0aW5nLCBhbmQgZG9udCBuZWVkIHRvIGNoYW5nZSB0aGUgdGV4dCwgeW91IGNhbiBkaXJlY3RseSBwYXNzIGluIGEgc3RyaW5nICgnc3RyaW5nJykgaW5zdGVhZCBvZiAoYHRleHQoJ3N0cmluZycpYCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjb25zdCBzdCA9IHN0YXRlKHsgY291bnQ6IDAgfSk7XG4gKlxuICogcCh0ZXh0KCdSYXcgdGV4dCEnKSk7XG4gKiBwKHRleHQoYENvdW50OiAkY291bnRgLCBzdCkpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0PFQ+KHRleHRUZW1wbGF0ZTogc3RyaW5nLCB2YWx1ZXM/OiBTdGF0ZTxUPik6IE5vZGUge1xuICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBjb25zdCBpbnRlcnBvbGF0ZVBhdHRlcm4gPSAvXFxCXFwkKFswLTldK3xbYS16XVthLXowLTlfJF0qKS9naTtcblxuICBjb25zdCB1cGRhdGVOb2RlID0gKCkgPT4ge1xuICAgIG5vZGUubm9kZVZhbHVlID0gIXZhbHVlc1xuICAgICAgPyB0ZXh0VGVtcGxhdGVcbiAgICAgIDogdGV4dFRlbXBsYXRlLnJlcGxhY2UoaW50ZXJwb2xhdGVQYXR0ZXJuLCAobSwgZzEpID0+XG4gICAgICAgICAgdmFsdWVzW2cxXSAhPSBudWxsID8gdmFsdWVzW2cxXS50b1N0cmluZygpIDogbSxcbiAgICAgICAgKTtcbiAgfTtcblxuICBpZiAodmFsdWVzICYmIGlzT2JqZWN0KHZhbHVlcykpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAvLyBXZSdyZSBqdXN0IGludGVyZXN0ZWQgaW4gbGlzdGVuaW5nIHRvIHRoZSB2YWx1ZXMgdGhhdCBhcmUgcmVmZXJlbmNlcyBpbiB0aGUgdGV4dC5cbiAgICAgIGlmICh0ZXh0VGVtcGxhdGUuaW5jbHVkZXMoYCQke2tleX1gKSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdmFsdWVzW2tleV07XG4gICAgICAgIGl0ZW0uY2hhbmdlZCh1cGRhdGVOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVOb2RlKCk7XG4gIHJldHVybiBub2RlO1xufVxuIiwiaW1wb3J0IHsgQ3NzR2VuZXJhdG9yIH0gZnJvbSAnLi9jc3MtZ2VuZXJhdG9yLmpzJztcbmltcG9ydCB7IENzc1Byb3BlcnR5IH0gZnJvbSAnLi9jc3MtcHJvcGVydGllcy5qcyc7XG5pbXBvcnQgeyBQaWNrUHJvcGVydHlWYWx1ZXMgfSBmcm9tICcuL2Nzcy1wcm9wZXJ0eS12YWx1ZXMuanMnO1xuaW1wb3J0IHsgVGFnTmFtZSB9IGZyb20gJy4vdGFnLW5hbWVzLmpzJztcbmltcG9ydCB7IGNhbGxPclJldHVybiwgY2FtZWxUb0Rhc2ggfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgdGV4dCB9IGZyb20gJy4vdGV4dC5qcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFsbFRhZ3MsXG4gIENvbnN1bWFibGUsXG4gIFN0YXRlLFxuICBTdHlsZU1hcCxcbiAgU3R5bGVTZXQsXG4gIFRhZ0J1aWxkZXIsXG4gIFRhZ0NoaWxkLFxuICBUYWdDaGlsZHJlbixcbiAgVGFnQ29uZmlnLFxufSBmcm9tICcuL3R5cGVzLmpzJztcblxubGV0IGNvbnRleHQ6IHtcbiAgYXR0YWNoZWRUYWc6IENUYWc7XG4gIGF0dGFjaGVkVGFnU3RhY2s6IENUYWdbXTtcbiAgY3NzOiBDc3NHZW5lcmF0b3I7XG59ID0ge1xuICBhdHRhY2hlZFRhZzogbnVsbCxcbiAgYXR0YWNoZWRUYWdTdGFjazogW10sXG4gIGNzczogbmV3IENzc0dlbmVyYXRvcigpLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYXR0YWNoZWQge0BsaW5rIENUYWd9LiBTZWUge0BsaW5rIGF0dGFjaH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hlZCgpIHtcbiAgcmV0dXJuIGNvbnRleHQuYXR0YWNoZWRUYWc7XG59XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgbWFpbiBjbGFzcyBpbiBDYXJkYm9hcmQuIEV2ZW4gdGhvdWdoIENhcmRib2FyZCBpcyBkZXNpZ25lZCB0byBub3QgbmVlZCB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgeW91IGNhbiBpZiB5b3Ugd2FudC5cbiAqXG4gKiBDVGFnIGNvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIGFuIEhUTUxFbGVtZW50LCBpdHMgcGFyZW50LCBhbmQgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIGl0LlxuICovXG5leHBvcnQgY2xhc3MgQ1RhZyB7XG4gIC8qKiBSZWZlcmVuY2UgdG8gdGhlIEhUTUxFbGVtZW50IHRoYXQgdGhpcyBAdHlwZSB7Q1RhZ30gcmVwcmVzZW50cyAqL1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICAvKiogQHBhcmFtIHBhcmVudCBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBAdHlwZSB7Q1RhZ30gb2YgdGhpcyBlbGVtZW50ICovXG4gIHByaXZhdGUgX3BhcmVudDogQ1RhZyA9IG51bGw7XG4gIGdldCBwYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgfVxuICBzZXQgcGFyZW50KG5ld1BhcmVudDogQ1RhZykge1xuICAgIHRoaXMuX3BhcmVudCA9IG5ld1BhcmVudDtcbiAgfVxuXG4gIC8qKiBIb2xkcyB0aGUgbGlzdCBvZiBhbGwgY2hpbGRyZW4sIHRoZSBvbmVzIHRoYXQgYXJlIGN1cnJlbnRseSBpbiB0aGUgRE9NIGFuZCB0aG9zZSB0aGF0IGFyZSBub3QgKi9cbiAgcHJpdmF0ZSBfY2hpbGRyZW46IFRhZ0NoaWxkW10gPSBbXTtcblxuICBwcml2YXRlIF9jYWNoZWRDaGlsZHJlbjogTm9kZVtdID0gW107XG4gIGdldCBjaGlsZHJlbigpIHtcbiAgICB0aGlzLl9nZXRFbGVtZW50Q2hpbGRyZW4odGhpcy5lbGVtZW50KTtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkQ2hpbGRyZW47XG4gIH1cblxuICAvKiogSWYgc2V0IHRvIHRydWUsIGl0IGJlIGFwcGVuZGVkIHRvIHRoZSBhdHRhY2hlZCB0YWcgKi9cbiAgcHJpdmF0ZSBfYXR0YWNoYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9tZXRhID0ge1xuICAgIGlzSGlkZGVuOiBmYWxzZSxcbiAgICBuZXh0U2libGluZ0lEOiBudWxsLFxuICB9O1xuXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gKHRoaXMuZWxlbWVudCBhcyBhbnkpLnZhbHVlO1xuICB9XG5cbiAgZ2V0IHN0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gIH1cblxuICBzZXRWYWx1ZShuZXdWYWx1ZTogc3RyaW5nKSB7XG4gICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogR2V0cyB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGNsZWFycyB0aGUgdmFsdWUgKi9cbiAgZ2V0IGNvbnN1bWVWYWx1ZSgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmlkO1xuICB9XG5cbiAgc2V0SWQoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuZWxlbWVudC5pZCA9IGlkO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXJnMDogVGFnTmFtZSB8IEhUTUxFbGVtZW50LFxuICAgIGNoaWxkcmVuOiBUYWdDaGlsZHJlbiA9IFtdLFxuICAgIGF0dGFjaGFibGU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKSB7XG4gICAgdGhpcy5fYXR0YWNoYWJsZSA9IGF0dGFjaGFibGU7XG4gICAgY29uc3QgaXNTZWxlY3RvciA9IHR5cGVvZiBhcmcwID09ICdzdHJpbmcnICYmIGFyZzAubWF0Y2goL1xcKC4rXFwpLyk7XG5cbiAgICBpZiAoaXNTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fYXR0YWNoYWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhcmcwLm1hdGNoKC9cXCgoLispXFwpLylbMV0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzAgPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXJnMCk7XG4gICAgfSBlbHNlIGlmIChhcmcwIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2F0dGFjaGFibGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGFyZzA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCAwJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQuYXR0YWNoZWRUYWcgJiYgdGhpcy5fYXR0YWNoYWJsZSkge1xuICAgICAgY29udGV4dC5hdHRhY2hlZFRhZy5hcHBlbmQodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHRoaXMuc2V0Q2hpbGRyZW4oY2hpbGRyZW4pO1xuICB9XG5cbiAgLyoqIFNldHMgdGhlIGNoaWxkcmVuLCByZW1vdmVzIHByZXZpb3VzIGNoaWxkcmVuICAqL1xuICBzZXRDaGlsZHJlbihjaGlsZHJlbjogVGFnQ2hpbGRyZW4pIHtcbiAgICB0aGlzLmVsZW1lbnQucmVwbGFjZUNoaWxkcmVuKC4uLnRoaXMuX21hcENoaWxkcmVuKGNoaWxkcmVuKSk7XG4gICAgdGhpcy5fY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFwcGVuZCguLi5jaGlsZHJlbjogVGFnQ2hpbGRyZW4pIHtcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKC4uLnRoaXMuX21hcENoaWxkcmVuKGNoaWxkcmVuKSk7XG4gICAgdGhpcy5fY2hpbGRyZW4ucHVzaCguLi5jaGlsZHJlbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcmVwZW5kKC4uLmNoaWxkcmVuOiBUYWdDaGlsZHJlbikge1xuICAgIHRoaXMuZWxlbWVudC5wcmVwZW5kKC4uLnRoaXMuX21hcENoaWxkcmVuKGNoaWxkcmVuKSk7XG4gICAgdGhpcy5fY2hpbGRyZW4udW5zaGlmdCguLi5jaGlsZHJlbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogV2hlbmV2ZXIgdGhlIGNvbnN1bWFibGUgY2hhbmdlcywgaXQgd2lsbCBjYWxsIHRoZSBjb25zdW1lciAqL1xuICBjb25zdW1lPFQ+KFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8VD4sXG4gICAgY29uc3VtZXI6IChzZWxmOiBDVGFnLCBuZXdWYWx1ZTogVCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgY29uc3VtYWJsZS5jaGFuZ2VkKChuZXdWYWx1ZSkgPT4gY29uc3VtZXIodGhpcywgbmV3VmFsdWUpKTtcbiAgICBjb25zdW1lcih0aGlzLCBjb25zdW1hYmxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgZWxlbWVudCBpcyBjdXJyZW50bHkgaGlkZGVuIGl0IHdpbGwgYWRkIHRoaXMgZWxlbWVudCB0byB0aGUgcGFnZSB3aGVyZXZlciBpdCdzIHN1cHBvc2VkIHRvIGJlLlxuICAgKiBJIHdpbGwgYmUgcGxhY2VkIGV4YWN0bHkgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24sIGV2ZW4gaWYgdGhlcmUgYXJlIG90aGVyIGVsZW1lbnRzIGhpZGRlbi5cbiAgICovXG4gIGFzeW5jIHNob3coKSB7XG4gICAgaWYgKCF0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmNsdWRlcyh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAvLyBHZXQncyB0aGUgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgaWYgYWxsIHRoZSBjaGlsZHJlbiBhcmUgdmlzaWJsZVxuICAgICAgY29uc3QgZXhwZWN0ZWRJbmRleCA9IHRoaXMucGFyZW50Ll9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuXG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBzaG91bGQgYmUgdGhlIGZpcnN0IGNoaWxkIGluIHRoZSBwYXJlbnRcbiAgICAgIGlmIChleHBlY3RlZEluZGV4ID09IDApIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuZWxlbWVudC5wcmVwZW5kKHRoaXMuZWxlbWVudCk7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBzaG91bGQgYmUgdGhlIGxhc3QgY2hpbGQgaW4gdGhlIHBhcmVudFxuICAgICAgZWxzZSBpZiAoZXhwZWN0ZWRJbmRleCA9PSB0aGlzLnBhcmVudC5fY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLnBhcmVudC5lbGVtZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHRoZSBudGggY2hpbGQgaW4gdGhlIHBhcmVudFxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbWFueSBoaWRkZW4gY2hpbGRyZW4gYXJlIGJlZm9yZSB0aGlzIGVsZW1lbnRcbiAgICAgICAgbGV0IGhpZGRlbkJlZm9yZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBleHBlY3RlZEluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMucGFyZW50Ll9jaGlsZHJlbltpXTtcbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBDVGFnKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21ldGEuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgaGlkZGVuQmVmb3JlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBcInJlYWxcIiBjaGlsZHJlbiBpbiB0aGUgZG9tLlxuICAgICAgICAvLyBUaGUgaW5kZXggdGFrZXMgaW50byBhY2NvdW50IHRoZSBpdGVtcyB0aGF0IGFyZSBoaWRkZW5cbiAgICAgICAgY29uc3QgbmV4dEVsID1cbiAgICAgICAgICB0aGlzLnBhcmVudC5lbGVtZW50LmNoaWxkTm9kZXNbZXhwZWN0ZWRJbmRleCAtIGhpZGRlbkJlZm9yZV07XG5cbiAgICAgICAgdGhpcy5wYXJlbnQuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCBuZXh0RWwpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9tZXRhLmlzSGlkZGVuID0gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogSGlkZSB0aGlzIGVsZW1lbnQgKHJlbW92ZWQgZnJvbSBET00pICovXG4gIGFzeW5jIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKHRoaXMuZWxlbWVudCkpIHtcbiAgICAgIGF3YWl0IHRoaXMucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9tZXRhLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLCBpdCB3aWxsIGNhbGwge2lmVHJ1ZX0gd2hlbiB0aGUgY29uc3VtYWJsZSBpcyB0cnVlLiBPciB7aWZGYWxzZX0gd2hlbiB0aGUgY29uc3VtYWJsZSBpcyBmYWxzZS5cbiAgICogSWYge2ludmVydH0gaXMgc2V0IHRvIHRydWUsIHRoZSBjb25kaXRpb24gd2lsbCBiZSBpbnZlcnNlZCwgYnV0IHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIGRvSWZOb3R9XG4gICAqL1xuICBkb0lmKFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBpZlRydWU6ICh2YWx1ZTogYW55KSA9PiB2b2lkLFxuICAgIGlmRmFsc2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkLFxuICAgIGludmVydCA9IGZhbHNlLFxuICApIHtcbiAgICBpZiAoaW52ZXJ0KSB7XG4gICAgICBsZXQgdGVtcCA9IGlmVHJ1ZTtcbiAgICAgIGlmVHJ1ZSA9IGlmRmFsc2U7XG4gICAgICBpZkZhbHNlID0gdGVtcDtcbiAgICB9XG5cbiAgICBjb25zdCBjYWxsYmFjayA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlKSBpZlRydWUodmFsdWUpO1xuICAgICAgZWxzZSBpZkZhbHNlKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3VtYWJsZS5jaGFuZ2VkKGNhbGxiYWNrKTtcbiAgICBjYWxsYmFjayhjb25zdW1hYmxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgb3Bvc2l0ZSBvZiB7dGhpcy5kb0lmfVxuICAgKiBXaGVuIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMsIGl0IHdpbGwgY2FsbCB7aWZUcnVlfSBpZiB0aGUgY29uc3VtYWJsZSBpcyBmYWxzZS4gT3Ige2lmRmFsc2V9IGlmIHRoZSBjb25zdW1hYmxlIGlzIHRydWUuXG4gICAqL1xuICBkb0lmTm90KFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBpZlRydWU6ICh2YWx1ZTogYW55KSA9PiB2b2lkLFxuICAgIGlmRmFsc2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5kb0lmKGNvbnN1bWFibGUsIGlmVHJ1ZSwgaWZGYWxzZSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aGlzIGVsZW1lbnQgd2hlbiB0aGUgY29uc3VtZXIgaXMgdHJ1dGh5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIElmIHtpbnZlcnR9IGlzIHNldCB0byB0cnVlLCB0aGUgY29uZGl0aW9uIHdpbGwgYmUgaW52ZXJzZWQsIGJ1dCB5b3UgY2FuIGFsc28gdXNlIHtAbGluayBoaWRlSWZOb3R9XG4gICAqL1xuICBoaWRlSWYoY29uc3VtYWJsZTogQ29uc3VtYWJsZTxib29sZWFuIHwgbnVtYmVyPiwgaW52ZXJ0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBoYW5kbGVIaWRlID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGNvcnJlY3RlZFZhbHVlID0gaW52ZXJ0ID8gIXZhbHVlIDogISF2YWx1ZTtcbiAgICAgIHRoaXMuX21ldGEuaXNIaWRkZW4gPSBjb3JyZWN0ZWRWYWx1ZTtcblxuICAgICAgaWYgKCF0aGlzLnBhcmVudCkgcmV0dXJuO1xuICAgICAgaWYgKCFjb3JyZWN0ZWRWYWx1ZSkgdGhpcy5zaG93KCk7XG4gICAgICBlbHNlIHRoaXMuaGlkZSgpO1xuICAgIH07XG5cbiAgICBjb25zdW1hYmxlLmNoYW5nZWQoaGFuZGxlSGlkZSk7XG4gICAgaGFuZGxlSGlkZShjb25zdW1hYmxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBIaWRlIHRoaXMgZWxlbWVudCB3aGVuIHRoZSBjb25zdW1lciBpcyBmYWxzeS4gVXBkYXRlcyB3aGVuZXZlciB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLiAqL1xuICBoaWRlSWZOb3QoY29uc3VtYWJsZTogQ29uc3VtYWJsZTxib29sZWFuIHwgbnVtYmVyPikge1xuICAgIHJldHVybiB0aGlzLmhpZGVJZihjb25zdW1hYmxlLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGNsYXNzZXMgdG8gdGhlIGVsZW1lbnQgd2hlbiB0aGUgY29uc3VtZXIgaXMgdHJ1dGh5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIFlvdSBjYW4gcGFzcyBpbiBhbiBhcnJheSBvZiBjbGFzc2VzLCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGxpc3Qgb2YgY2xhc3Nlcy5cbiAgICogSWYge2ludmVydH0gaXMgc2V0IHRvIHRydWUsIHRoZSBjb25kaXRpb24gd2lsbCBiZSBpbnZlcnNlZCwgYnV0IHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIGNsYXNzSWZOb3R9XG4gICAqL1xuICBjbGFzc0lmKFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nW10pLFxuICAgIGludmVydCA9IGZhbHNlLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5kb0lmKFxuICAgICAgY29uc3VtYWJsZSxcbiAgICAgICgpID0+IHRoaXMuYWRkQ2xhc3MoLi4uY2FsbE9yUmV0dXJuKGNsYXNzZXMsIHRoaXMpKSxcbiAgICAgICgpID0+IHRoaXMucm1DbGFzcyguLi5jYWxsT3JSZXR1cm4oY2xhc3NlcywgdGhpcykpLFxuICAgICAgaW52ZXJ0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGFzc2VzIHRvIHRoZSBlbGVtZW50IHdoZW4gdGhlIGNvbnN1bWVyIGlzIGZhbHN5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIFlvdSBjYW4gcGFzcyBpbiBhbiBhcnJheSBvZiBjbGFzc2VzLCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGxpc3Qgb2YgY2xhc3Nlcy5cbiAgICogRm9yIHRoZSBvcG9zaXRlIHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIGNsYXNzSWZ9XG4gICAqL1xuICBjbGFzc0lmTm90KFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nW10pLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5jbGFzc0lmKGNvbnN1bWFibGUsIGNsYXNzZXMsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMge3RleHR9IHdoZW4gdGhlIGNvbnN1bWVyIGlzIHRydWUsIGFuZCBzZXRzIHtlbHNlVGV4dCAoZGVmYXVsdD0nJyl9IHdoZW4gdGhlIGNvbnN1bWVyIGlzIGZhbHNlLlxuICAgKiBCb3RoIHt0ZXh0fSBhbmQge2Vsc2VUZXh0fSBjYW4gYmUgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzdHJpbmcuXG4gICAqIFVwZGF0ZXMgd2hlbmV2ZXIgdGhlIGNvbnN1bWFibGUgY2hhbmdlcy5cbiAgICogSWYge2ludmVydH0gaXMgc2V0IHRvIHRydWUsIHRoZSBjb25kaXRpb24gd2lsbCBiZSBpbnZlcnNlZCwgYnV0IHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIHRleHRJZk5vdH1cbiAgICovXG4gIHRleHRJZihcbiAgICBjb25zdW1hYmxlOiBDb25zdW1hYmxlPGFueT4sXG4gICAgdGV4dDogc3RyaW5nIHwgKChzZWxmOiBDVGFnKSA9PiBzdHJpbmcpLFxuICAgIGVsc2VUZXh0OiBzdHJpbmcgfCAoKHNlbGY6IENUYWcpID0+IHN0cmluZykgPSAnJyxcbiAgICBpbnZlcnQgPSBmYWxzZSxcbiAgKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9JZihcbiAgICAgIGNvbnN1bWFibGUsXG4gICAgICAoKSA9PiB0aGlzLnRleHQoY2FsbE9yUmV0dXJuKHRleHQsIHRoaXMpKSxcbiAgICAgICgpID0+IHRoaXMudGV4dChjYWxsT3JSZXR1cm4oZWxzZVRleHQsIHRoaXMpKSxcbiAgICAgIGludmVydCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMge3RleHR9IHdoZW4gdGhlIGNvbnN1bWVyIGlzIGZhbHN5LCBhbmQgc2V0cyB7ZWxzZVRleHQgKGRlZmF1bHQ9JycpfSB3aGVuIHRoZSBjb25zdW1lciBpcyB0cnV0aHkuXG4gICAqIEJvdGgge3RleHR9IGFuZCB7ZWxzZVRleHR9IGNhbiBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZy5cbiAgICogVXBkYXRlcyB3aGVuZXZlciB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLlxuICAgKi9cbiAgdGV4dElmTm90KFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICB0ZXh0OiBzdHJpbmcgfCAoKHNlbGY6IENUYWcpID0+IHN0cmluZyksXG4gICAgZWxzZVRleHQ6IHN0cmluZyB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nKSA9ICcnLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0SWYoY29uc3VtYWJsZSwgdGV4dCwgZWxzZVRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhdHRyaWJ1dGUgdG8gdGhlIGVsZW1lbnQgd2hlbiB0aGUgY29uc3VtZXIgaXMgdHJ1dGh5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIHt2YWx1ZX0gY2FuIGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nLlxuICAgKiBJZiB7aW52ZXJ0fSBpcyBzZXQgdG8gdHJ1ZSwgdGhlIGNvbmRpdGlvbiB3aWxsIGJlIGludmVyc2VkLCBidXQgeW91IGNhbiBhbHNvIHVzZSB7QGxpbmsgYXR0cklmTm90fVxuICAgKi9cbiAgYXR0cklmKFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBhdHRyOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nKSA9ICcnLFxuICAgIGludmVydCA9IGZhbHNlLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5kb0lmKFxuICAgICAgY29uc3VtYWJsZSxcbiAgICAgICgpID0+IHRoaXMuYWRkQXR0cihhdHRyLCBjYWxsT3JSZXR1cm4odmFsdWUsIHRoaXMpKSxcbiAgICAgICgpID0+IHRoaXMucm1BdHRyKGF0dHIpLFxuICAgICAgaW52ZXJ0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGF0dHJpYnV0ZSB0byB0aGUgZWxlbWVudCB3aGVuIHRoZSBjb25zdW1lciBpcyBmYWxzeS4gVXBkYXRlcyB3aGVuZXZlciB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLlxuICAgKiB7dmFsdWV9IGNhbiBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZy5cbiAgICogSWYge2ludmVydH0gaXMgc2V0IHRvIHRydWUsIHRoZSBjb25kaXRpb24gd2lsbCBiZSBpbnZlcnNlZFxuICAgKi9cbiAgYXR0cklmTm90KFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBhdHRyOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nKSA9ICcnLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5hdHRySWYoY29uc3VtYWJsZSwgYXR0ciwgdmFsdWUsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgdGhpcyBlbGVtZW50IHdoZW4gdGhlIGNvbnN1bWVyIGlzIHRydXRoeS4gVXBkYXRlcyB3aGVuZXZlciB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLlxuICAgKiBJZiB7aW52ZXJ0fSBpcyBzZXQgdG8gdHJ1ZSwgdGhlIGNvbmRpdGlvbiB3aWxsIGJlIGludmVyc2VkLCBidXQgeW91IGNhbiBhbHNvIHVzZSB7QGxpbmsgZGlzYWJsZUlmTm90fVxuICAgKi9cbiAgZGlzYWJsZUlmKGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PiwgaW52ZXJ0ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRySWYoY29uc3VtYWJsZSwgJ2Rpc2FibGVkJywgJycsIGludmVydCk7XG4gIH1cblxuICAvKiogRGlzYWJsZSB0aGlzIGVsZW1lbnQgd2hlbiB0aGUgY29uc3VtZXIgaXMgZmFsc3kuIFVwZGF0ZXMgd2hlbmV2ZXIgdGhlIGNvbnN1bWFibGUgY2hhbmdlcy4gKi9cbiAgZGlzYWJsZUlmTm90KGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55Pikge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVJZihjb25zdW1hYmxlLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgc3R5bGUgdG8gdGhlIGVsZW1lbnQgd2hlbiB0aGUgY29uc3VtZXIgaXMgdHJ1dGh5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIElmIHtpbnZlcnR9IGlzIHNldCB0byB0cnVlLCB0aGUgY29uZGl0aW9uIHdpbGwgYmUgaW52ZXJzZWQsIGJ1dCB5b3UgY2FuIGFsc28gdXNlIHtAbGluayBzdHlsZUlmTm90fVxuICAgKiB7dmFsdWV9IGNhbiBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZy5cbiAgICovXG4gIHN0eWxlSWYoXG4gICAgY29uc3VtYWJsZTogQ29uc3VtYWJsZTxhbnk+LFxuICAgIHN0eWxlOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nKSA9ICcnLFxuICAgIGludmVydCA9IGZhbHNlLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5kb0lmKFxuICAgICAgY29uc3VtYWJsZSxcbiAgICAgICgpID0+IHRoaXMuYWRkU3R5bGUoc3R5bGUsIGNhbGxPclJldHVybih2YWx1ZSwgdGhpcykpLFxuICAgICAgKCkgPT4gdGhpcy5ybVN0eWxlKHN0eWxlKSxcbiAgICAgIGludmVydCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBzdHlsZSB0byB0aGUgZWxlbWVudCB3aGVuIHRoZSBjb25zdW1lciBpcyBmYWxzeS4gVXBkYXRlcyB3aGVuZXZlciB0aGUgY29uc3VtYWJsZSBjaGFuZ2VzLlxuICAgKiB7dmFsdWV9IGNhbiBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZy5cbiAgICovXG4gIHN0eWxlSWZOb3QoXG4gICAgY29uc3VtYWJsZTogQ29uc3VtYWJsZTxhbnk+LFxuICAgIHN0eWxlOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8ICgoc2VsZjogQ1RhZykgPT4gc3RyaW5nKSA9ICcnLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZUlmKGNvbnN1bWFibGUsIHN0eWxlLCB2YWx1ZSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIG11bHRpcGxlIHN0eWxlcyB0byB0aGUgZWxlbWVudCB3aGVuIHRoZSBjb25zdW1lciBpcyB0cnV0aHkuIFVwZGF0ZXMgd2hlbmV2ZXIgdGhlIGNvbnN1bWFibGUgY2hhbmdlcy5cbiAgICoge3N0eWxlc30gY2FuIGJlIGEge0BsaW5rIFN0eWxlTWFwfSBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHtAbGluayBTdHlsZU1hcH0uXG4gICAqIElmIHtpbnZlcnR9IGlzIHNldCB0byB0cnVlLCB0aGUgY29uZGl0aW9uIHdpbGwgYmUgaW52ZXJzZWQsIGJ1dCB5b3UgY2FuIGFsc28gdXNlIHtAbGluayBzdHlsZXNJZk5vdH1cbiAgICovXG4gIHN0eWxlc0lmKFxuICAgIGNvbnN1bWFibGU6IENvbnN1bWFibGU8YW55PixcbiAgICBzdHlsZXM6IFN0eWxlTWFwIHwgKChzZWxmOiBDVGFnKSA9PiBTdHlsZU1hcCksXG4gICAgaW52ZXJ0ID0gZmFsc2UsXG4gICkge1xuICAgIHJldHVybiB0aGlzLmRvSWYoXG4gICAgICBjb25zdW1hYmxlLFxuICAgICAgKCkgPT4gdGhpcy5zZXRTdHlsZShjYWxsT3JSZXR1cm4oc3R5bGVzLCB0aGlzKSksXG4gICAgICAoKSA9PiB0aGlzLnJtU3R5bGUoLi4uT2JqZWN0LmtleXMoc3R5bGVzKSksXG4gICAgICBpbnZlcnQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgbXVsdGlwbGUgc3R5bGVzIHRvIHRoZSBlbGVtZW50IHdoZW4gdGhlIGNvbnN1bWVyIGlzIGZhbHN5LiBVcGRhdGVzIHdoZW5ldmVyIHRoZSBjb25zdW1hYmxlIGNoYW5nZXMuXG4gICAqIHtzdHlsZXN9IGNhbiBiZSBhIHtAbGluayBTdHlsZU1hcH0gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB7QGxpbmsgU3R5bGVNYXB9LlxuICAgKiBGb3IgdGhlIG9wb3NpdGUgdXNlICB7QGxpbmsgc3R5bGVzSWZ9XG4gICAqL1xuICBzdHlsZXNJZk5vdChcbiAgICBjb25zdW1hYmxlOiBDb25zdW1hYmxlPGFueT4sXG4gICAgc3R5bGVzOiBTdHlsZU1hcCB8ICgoc2VsZjogQ1RhZykgPT4gU3R5bGVNYXApLFxuICApIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZXNJZihjb25zdW1hYmxlLCBzdHlsZXMsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byBhbiBldmVudCBvbiB0aGUgZWxlbWVudC4gTGlrZSBhZGRFdmVudExpc3RlbmVyLlxuICAgKi9cbiAgbGlzdGVuPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwPihcbiAgICB0YWc6IENUYWcsXG4gICAgZXZ0OiBLLFxuICAgIGNvbnN1bWVyOiAoc2VsZjogQ1RhZywgb3RoZXI6IENUYWcsIGV2dDogSFRNTEVsZW1lbnRFdmVudE1hcFtLXSkgPT4gdm9pZCxcbiAgKSB7XG4gICAgcmV0dXJuIHRhZy5vbihldnQsIChvdGhlciwgZXZ0KSA9PiBjb25zdW1lcih0aGlzLCBvdGhlciwgZXZ0KSk7XG4gIH1cblxuICAvKipcbiAgICogSWYge25ld1RleHR9IGlzIHByb3ZpZGVkLCBpdCBzZXRzIHRoZSBgdGV4dENvbnRlbnRgIG9mIHRoZSBlbGVtZW50LlxuICAgKiBJZiB7bmV3VGV4dH0gaXMgcHJvdmlkZWQsIGFuZCBhIHN0YXRlIGlzIHByb3ZpZGVkLiBJdCB3aWxsIHVzZSB0aGUge25ld1RleHR9IGFzIGEgdGVtcGxhdGUsXG4gICAqIHRoYXQgd2lsbCBiZSBpbnRlcnBvbGF0ZWQgd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBzdGF0ZSwgZWFjaCB0aW1lIHRoZSBzdGF0ZSBjaGFuZ2VzLiBJdCBhY3RzIGxpa2Uge0BsaW5rIHRleHR9XG4gICAqXG4gICAqIElmIG5vIGFyZ3VtZW50IGlzIHByb3ZpZGVkLCBpdCByZXR1cm5zIHRoZSBgdGV4dENvbnRlbnRgIG9mIHRoZSBlbGVtZW50XG4gICAqL1xuICB0ZXh0PFQgPSBzdHJpbmcgfCBudWxsPihcbiAgICBuZXdUZXh0PzogVCxcbiAgICBzdD86IFN0YXRlPGFueT4sXG4gICk6IFQgZXh0ZW5kcyBzdHJpbmcgPyBDVGFnIDogc3RyaW5nIHtcbiAgICBpZiAobmV3VGV4dCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRleHRDb250ZW50IGFzIGFueTtcbiAgICB9XG5cbiAgICBpZiAoc3QgJiYgbmV3VGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q2hpbGRyZW4oW3RleHQobmV3VGV4dCBhcyBzdHJpbmcsIHN0KV0pIGFzIGFueTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdUZXh0IGFzIHN0cmluZztcblxuICAgIHJldHVybiB0aGlzIGFzIGFueTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgdGhlIGVsZW1lbnQgaW4gYSBzaW5nbGUgY2FsbCBieSBwYXNzaW5nIEBwYXJhbSB7VGFnQ29uZmlnfSBjb25maWdcbiAgICogaW5zdGVhZCBvZiBoYXZpbmcgdG8gY2FsbCBhIG1ldGhvZCBmb3IgZWFjaCBwcm9wZXJ0eSB5b3Ugd2FudCB0byBjaGFuZ2VzXG4gICAqL1xuICBjb25maWcoY29uZmlnOiBUYWdDb25maWcpIHtcbiAgICBpZiAoY29uZmlnLmF0dHIpIHtcbiAgICAgIHRoaXMuc2V0QXR0cnMoY29uZmlnLmF0dHIpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmNsYXNzTGlzdCkge1xuICAgICAgdGhpcy5hZGRDbGFzcyguLi5jb25maWcuY2xhc3NMaXN0KTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5jbGFzc05hbWUpIHtcbiAgICAgIHRoaXMuY2xhc3NOYW1lKGNvbmZpZy5jbGFzc05hbWUpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnN0eWxlKSB7XG4gICAgICB0aGlzLnNldFN0eWxlKGNvbmZpZy5zdHlsZSk7XG4gICAgfVxuICAgIGlmIChjb25maWcudGV4dCkge1xuICAgICAgdGhpcy50ZXh0KGNvbmZpZy50ZXh0KTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZShjb25maWcudmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmFwcGVuZCguLi5jb25maWcuY2hpbGRyZW4pO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLm9uKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcub24pIHtcbiAgICAgICAgdGhpcy5vbihrZXksIGNvbmZpZy5vbltrZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBBZGQgY2xhc3NlcyB0byB0aGUgZWxlbWVudHMgY2xhc3MgbGlzdCAqL1xuICBhZGRDbGFzcyguLi5jbGFzc05hbWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgZWxlbWVudHMgY2xhc3MgbmFtZSAqL1xuICBjbGFzc05hbWUoY2xhc3NOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFJlbW92ZSBjbGFzc2VzIGZyb20gY2xhc3MgbGlzdCAqL1xuICBybUNsYXNzKC4uLmNsYXNzTmFtZXM6IHN0cmluZ1tdKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIGNsYXNzTmFtZXMpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIENoZWNrIGlmIGNsYXNzZXMgYXJlIHByZXNlbnQgaW4gdGhpcyBlbGVtZW50ICovXG4gIGhhc0NsYXNzKC4uLmNsYXNzTmFtZXM6IHN0cmluZ1tdKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIGNsYXNzTmFtZXMpIHtcbiAgICAgIGlmICghdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogUmVwbGFjZSBhIGNsYXNzIHdpdGggYW5vdGhlciAqL1xuICByZXBsYWNlQ2xhc3ModGFyZ2V0Q2xhc3M6IHN0cmluZywgcmVwbGFjZUNsYXNzOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2UodGFyZ2V0Q2xhc3MsIHJlcGxhY2VDbGFzcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogVG9nZ2xlIGEgY2xhc3MuIElmIGl0J3MgcHJlc2VudCBpdCdzIHJlbW92ZWQsIGlmIGl0J3Mgbm90IHByZXNlbnQgaXRzIGFkZGVkLiAqL1xuICB0b2dnbGVDbGFzcyh0YXJnZXRDbGFzczogc3RyaW5nKTogQ1RhZyB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ2xhc3ModGFyZ2V0Q2xhc3MpXG4gICAgICA/IHRoaXMucm1DbGFzcyh0YXJnZXRDbGFzcylcbiAgICAgIDogdGhpcy5hZGRDbGFzcyh0YXJnZXRDbGFzcyk7XG4gIH1cblxuICAvKiogQWRkIGEgc2luZ2xlIHN0eWxlICovXG4gIGFkZFN0eWxlPEsgZXh0ZW5kcyBDc3NQcm9wZXJ0eT4ocHJvcGVydHk6IEssIHZhbHVlOiBQaWNrUHJvcGVydHlWYWx1ZXM8Sz4pIHtcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGVbcHJvcGVydHkgYXMgc3RyaW5nXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFNldCBtdWx0aXBsZSBzdHlsZXMgYXQgb25jZSAqL1xuICBzZXRTdHlsZShzdHlsZXM6IFN0eWxlTWFwKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHN0eWxlcykge1xuICAgICAgdGhpcy5hZGRTdHlsZShrZXksIHN0eWxlc1trZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogUmVtb3ZlIHN0eWxlcyAqL1xuICBybVN0eWxlKC4uLnN0eWxlTmFtZXM6IHN0cmluZ1tdKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIHN0eWxlTmFtZXMpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBDaGVjayBpZiB0aGlzIGVsZW1lbnQgaGFzIHN0eWxlcyAqL1xuICBoYXNTdHlsZTxLIGV4dGVuZHMgQ3NzUHJvcGVydHk+KC4uLnN0eWxlczogS1tdKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIHN0eWxlcykge1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShjYW1lbFRvRGFzaChrZXkpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqIEFkZHMgYSBzZXQgb2YgYXR0cmlidXRlcyB0byB0aGUgZWxlbWVudCAqL1xuICBzZXRBdHRycyhhdHRyczogeyBbazogc3RyaW5nXTogc3RyaW5nIH0pIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgIHRoaXMuYWRkQXR0cihrZXksIGF0dHJzW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBBZGRzIGEgc2luZ2xlIGF0dHJpYnV0ZSB0byB0aGUgZWxlbWVudCAqL1xuICBhZGRBdHRyKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nID0gJycpIHtcbiAgICB0aGlzLmVsZW1lbnQuYXR0cmlidXRlc1trZXldID0gdmFsdWU7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBSZW1vdmUgYXR0cmlidXRlcyBmcm9tIHRoZSBlbGVtZW50ICovXG4gIHJtQXR0ciguLi5hdHRyczogc3RyaW5nW10pIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgYXR0cnMpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQuYXR0cmlidXRlc1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBDaGVjayBpZiB0aGlzIGVsZW1lbnQgaGFzIGF0dHJpYnV0ZXMgKi9cbiAgaGFzQXR0ciguLi5hdHRyOiBzdHJpbmdbXSkge1xuICAgIGZvciAobGV0IGtleSBvZiBhdHRyKSB7XG4gICAgICBpZiAoIShrZXkgaW4gdGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiogR2V0IGFuIGF0dHJpYnV0ZXMgdmFsdWUgKi9cbiAgZ2V0QXR0cihhdHRyOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmF0dHJpYnV0ZXNbYXR0cl07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHtAbGluayBDb25zdW1hYmxlfSB0aGF0IGZpcmVzIHdoZW4gdGhlIEV2ZW50IHtAcGFyYW0gZXZ0TmFtZX0gaXMgZmlyZWQgaW4gdGhpcyBlbGVtZW50XG4gICAqXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIGZufSB3aWxsIGJlIHBhc3NlZCB0byB0aGUgbGlzdGVuZXJzIG9mIHRoZSB7QGxpbmsgQ29uc3VtYWJsZX1cbiAgICovXG4gIHdoZW48SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KFxuICAgIGV2dE5hbWU6IEsgfCBzdHJpbmcsXG4gICAgZm46IChzZWxmOiBDVGFnKSA9PiBhbnksXG4gICk6IENvbnN1bWFibGUge1xuICAgIHJldHVybiB7XG4gICAgICBjaGFuZ2VkOiAobGlzdGVuZXIpID0+IHtcbiAgICAgICAgdGhpcy5vbihldnROYW1lLCAoKSA9PiBsaXN0ZW5lcihmbih0aGlzKSkpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBwYXJ0aWN1bGFyIGV2ZW50ICovXG4gIG9uPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwPihcbiAgICBldnROYW1lOiBLIHwgc3RyaW5nLFxuICAgIGZuOiAodGFnOiBDVGFnLCBldnQ6IEhUTUxFbGVtZW50RXZlbnRNYXBbS10pID0+IHZvaWQsXG4gICkge1xuICAgIGlmIChmbikge1xuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0TmFtZSwgKGV2dDogSFRNTEVsZW1lbnRFdmVudE1hcFtLXSkgPT4ge1xuICAgICAgICByZXR1cm4gZm4odGhpcywgZXZ0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgcGFydGljdWxhciBldmVudCB0aGF0IHdpbGwgb25seSBmaXJlIG9uY2UgKi9cbiAgb25jZTxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcD4oXG4gICAgZXZ0TmFtZTogSyB8IHN0cmluZyxcbiAgICBmbjogKHRhZzogQ1RhZywgZXZ0OiBIVE1MRWxlbWVudEV2ZW50TWFwW0tdKSA9PiB2b2lkLFxuICApIHtcbiAgICBpZiAoZm4pIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgICAgICBmbih0aGlzLCBldnQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEFkZCBhICoqY2xpY2sqKiBldmVudCBsaXN0ZW5lciAqL1xuICBjbGlja2VkKGZuOiAodGFnOiBDVGFnLCBldnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5vbignY2xpY2snLCBmbik7XG4gIH1cblxuICAvKiogQWRkIGEgKiprZXlwcmVzcyoqIGV2ZW50IGxpc3RlbmVyICovXG4gIGtleVByZXNzZWQoZm46ICh0YWc6IENUYWcsIGV2dDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCwga2V5Pzogc3RyaW5nKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMub24oJ2tleXByZXNzJywgKF8sIGV2dCkgPT4ge1xuICAgICAgICBpZiAoZXZ0LmNvZGUgPT0ga2V5IHx8IGV2dC5rZXkgPT0ga2V5KSB7XG4gICAgICAgICAgZm4odGhpcywgZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub24oJ2tleXByZXNzJywgZm4pO1xuICB9XG5cbiAgLyoqIEFkZCBhICoqY2hhbmdlKiogZXZlbnQgbGlzdGVuZXIgKi9cbiAgY2hhbmdlZChmbjogKHRhZzogQ1RhZywgZXZ0OiBFdmVudCkgPT4gdm9pZCkge1xuICAgIHJldHVybiB0aGlzLm9uKCdjaGFuZ2UnLCBmbik7XG4gIH1cblxuICAvKiogQWRkIGEgKipzdWJtaXQqKiBldmVudCBsaXN0ZW5lciAqL1xuICBzdWJtaXRlZChmbjogKHRhZzogQ1RhZywgZXZ0OiBTdWJtaXRFdmVudCkgPT4gdm9pZCkge1xuICAgIHJldHVybiB0aGlzLm9uKCdzdWJtaXQnLCBmbik7XG4gIH1cblxuICAvKiogUmVtb3ZlIGVsZW1lbnQgZnJvbSB0aGUgRE9NICovXG4gIGFzeW5jIHJlbW92ZSgpIHtcbiAgICBhd2FpdCB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBgdmFsdWVgIG9mIHRoZSBlbGVtZW50LiBJZiB5b3UgYXJlIGdldHRpbmcgdGhlIHZhbHVlIGFuZCB0aGVuIGNsZWFyaW5nLCBjb25zaWRlciB1c2luZyB7QGxpbmsgY29uc3VtZVZhbHVlfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpLnZhbHVlID0gJyc7XG4gICAgLy8gVHJpZ2dlciBpbnB1dCBldmVudCwgc28gY2xlYXJpbmcgaXMgdHJlYXRlZCBhcyBpbnB1dCFcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgSW5wdXRFdmVudCgnaW5wdXQnKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogRGlzYWJsZSB0aGUgZWxlbWVudCAqL1xuICBkaXNhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNldERpc2FibGVkKHRydWUpO1xuICB9XG5cbiAgLyoqIEVuYWJsZSB0aGUgZWxlbWVudCAqL1xuICBlbmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0RGlzYWJsZWQoZmFsc2UpO1xuICB9XG5cbiAgLyoqIFNldCB3aGV0aGVyIHRoZSBlbGVtZW50IHNob3VsZCBiZSBkaXNhYmxlZCBvciBub3QgKi9cbiAgc2V0RGlzYWJsZWQoZGlzYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICByZXR1cm4gZGlzYWJsZWQgPyB0aGlzLmFkZEF0dHIoJ2Rpc2FibGVkJykgOiB0aGlzLnJtQXR0cignZGlzYWJsZWQnKTtcbiAgfVxuXG4gIC8qKiBRdWVyeSBhIGNoaWxkIGluIHRoaXMgZWxlbWVudCAoaW4gdGhlIERPTSkgKi9cbiAgcShzZWxlY3Rvcik6IENUYWcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBuZXcgQ1RhZyhlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKiogRmluZCBhIGNoaWxkIGluIHRoaXMgZWxlbWVudCAoaW4gdGhlIERPTSBvciBOT1QpICovXG4gIGZpbmQocHJlZGljYXRlOiAoZWw6IFRhZ0NoaWxkKSA9PiBib29sZWFuKSB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLl9jaGlsZHJlbikge1xuICAgICAgaWYgKHByZWRpY2F0ZShjaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpbmRUYWcocHJlZGljYXRlOiAoZWw6IENUYWcpID0+IGJvb2xlYW4pIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBDVGFnICYmIHByZWRpY2F0ZShjaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3NldENoaWxkcmVuUGFyZW50KGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENUYWcpIGl0ZW0ucGFyZW50ID0gdGhpcztcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIHByaXZhdGUgX2NoaWxkcmVuRmlsdGVyUHJlZGljYXRlKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENUYWcgJiYgaXRlbS5fbWV0YS5pc0hpZGRlbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldEVsZW1lbnRGb3JDaGlsZChjbDogVGFnQ2hpbGQpOiBOb2RlIHtcbiAgICBpZiAodHlwZW9mIGNsID09PSAnc3RyaW5nJykgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNsKTtcbiAgICBpZiAoY2wgaW5zdGFuY2VvZiBDVGFnKSByZXR1cm4gY2wuZWxlbWVudDtcbiAgICBpZiAoY2wgaW5zdGFuY2VvZiBOb2RlKSByZXR1cm4gY2w7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBVcGRhdGUgY2FjaGVkIGNoaWxkIG5vZGVzIHdoZW5ldmVyIHRoaXMgZWxlbWVudHMgY2hpbGRzIGNoYW5nZVxuICAvLyBUaGlzIG1ha2VzIGl0IGEgbG90IGZhc3RlciB0byBnZXQgY2hpbGRyZW4uXG4gIC8vIElmIHRoZSBjaGlsZHJlbiBoYXZlIG5vdCBjaGFuZ2VkLCB0aGVyZSdzIG5vIG5lZWQgdG8gc2V0IHRoZSBjaGlsZHJlbiwgdXNlIHRoZSBwcmV2aW91cyBvbmVzXG4gIHByaXZhdGUgX211dGF0aW9uT2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXI7XG4gIHByaXZhdGUgX2dldEVsZW1lbnRDaGlsZHJlbihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5fbXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5fbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgdGhpcy5fc2V0Q2FjaGVkQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgdGhpcy5fc2V0Q2FjaGVkQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfc2V0Q2FjaGVkQ2hpbGRyZW4oZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBsZXQgY2hpbGROb2RlcyA9IGVsZW1lbnQuY2hpbGROb2RlcztcbiAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICBsZXQgaSA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjaGlsZHJlbi51bnNoaWZ0KGNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2NhY2hlZENoaWxkcmVuID0gY2hpbGRyZW47XG4gIH1cblxuICBwcml2YXRlIF9tYXBDaGlsZHJlbihjaGlsZHJlbjogVGFnQ2hpbGRyZW4pIHtcbiAgICByZXR1cm4gY2hpbGRyZW5cbiAgICAgIC5tYXAodGhpcy5fc2V0Q2hpbGRyZW5QYXJlbnQuYmluZCh0aGlzKSlcbiAgICAgIC5maWx0ZXIodGhpcy5fY2hpbGRyZW5GaWx0ZXJQcmVkaWNhdGUuYmluZCh0aGlzKSlcbiAgICAgIC5tYXAodGhpcy5fZ2V0RWxlbWVudEZvckNoaWxkKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGRvIHRoZSBmb2xsb3dpbmcgYmFzZWQgb24gdGhlIGZpcnN0IGFyZ3VtZW50OlxuICogKiBjcmVhdGUgYSB0YWcgaWYgeW91IHByb3ZpZGUgYSB0YWcgbmFtZTogKGBkaXZgLCBgYWJicmAsIGBjdXN0b20tdGFnYCwgLi4uKSxcbiAqICogd3JhcCBhcm91bmQgYW4gZXhpc3RpbmcgZWxlbWVudCBpbiB0aGUgcGFnZSBpZiB5b3UgcGFzcyBpbiBhIHNlbGVjdG9yOiAoYCcoYm9keSknYCwgYCcoI2lkKSdgLCBgJyguY2xhc3MpJ2ApLCBhbnkgc2VsZWN0b3IgaXMgYWxsb3dlZC5cbiAqICogd3JhcCBhcm91bmQgYW4gZWxlbWVudCBwYXNzZWQgaW5cbiAqXG4gKiBUaGVuIGl0IGNhbiByZWNlaXZlIGEgbGlzdCBvZiBjaGlsZHJlbiB0byBiZSBhZGRlZC5cbiAqIEFuZCByZWNlaXZlcyBhIHRoaXJkIGFyZ3VtZW50IGZvciBhdHRhY2hpbmcgdGhpcyB0YWcgdG8gdGhlIGN1cnJlbnRseSBhdHRhY2ggdGFnICh7QGxpbmsgYXR0YWNofSlcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIHRhZygnZGl2Jyk7XG4gKiB0YWcoJyhib2R5KScpO1xuICogdGFnKCcoLnNvbWVjbGFzcyknKTtcbiAqIHRhZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc29tZXRoaW5nJykpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWcoXG4gIGFyZzA6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICBjaGlsZHJlbjogVGFnQ2hpbGRyZW4gPSBbXSxcbiAgYXR0YWNoOiBib29sZWFuID0gZmFsc2UsXG4pIHtcbiAgcmV0dXJuIG5ldyBDVGFnKGFyZzAsIGNoaWxkcmVuLCBhdHRhY2gpO1xufVxuXG4vKipcbiAqIFdpbGwgY2FsbCB7b25TdGFydH0gd2hlbiB0aGUgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgRE9NLlxuICogQW5kIHdpbGwgY2FsbCB7b25SZW1vdmV9IHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkxpZmVjeWNsZShcbiAgdGFnOiBDVGFnLFxuICBvblN0YXJ0PzogKHRhZzogQ1RhZykgPT4gUHJvbWlzZTxib29sZWFuPiB8IGJvb2xlYW4sXG4gIG9uUmVtb3ZlPzogKHRhZzogQ1RhZykgPT4gdm9pZCxcbiAgYmVmb3JlUmVtb3ZlPzogKHRhZzogQ1RhZykgPT4gUHJvbWlzZTxib29sZWFuPiB8IGJvb2xlYW4sXG4pIHtcbiAgbGV0IG9ic2VydmluZ1BhcmVudCA9IGZhbHNlO1xuXG4gIGlmIChiZWZvcmVSZW1vdmUpIHtcbiAgICBjb25zdCB0ZW1wRWxSZW1vdmUgPSB0YWcuZWxlbWVudC5yZW1vdmU7XG4gICAgdGFnLmVsZW1lbnQucmVtb3ZlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYmVmb3JlUmVtb3ZlKHRhZyk7XG4gICAgICBpZiAoIXJlc3VsdCB8fCAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSAmJiAoYXdhaXQgcmVzdWx0KSkpIHtcbiAgICAgICAgdGVtcEVsUmVtb3ZlLmNhbGwodGFnLmVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgaWYgKG9uU3RhcnQpIHtcbiAgICBjb25zdCB0ZW1wT25TdGFydCA9IHRhZy5zaG93O1xuICAgIHRhZy5zaG93ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGVtcE9uU3RhcnQuY2FsbCh0YWcpO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYXN5bmMgKG11dGF0aW9ucywgb2JzZXJ2ZXIpID0+IHtcbiAgICBsZXQgaGFzQmVlbkFkZGVkID0gZmFsc2U7XG4gICAgbGV0IGhhc0JlZW5SZW1vdmVkID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBtdXQgb2YgbXV0YXRpb25zKSB7XG4gICAgICBpZiAob25TdGFydCAmJiBBcnJheS5mcm9tKG11dC5hZGRlZE5vZGVzKS5pbmNsdWRlcyh0YWcuZWxlbWVudCkpIHtcbiAgICAgICAgaGFzQmVlbkFkZGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvblJlbW92ZSAmJiBBcnJheS5mcm9tKG11dC5yZW1vdmVkTm9kZXMpLmluY2x1ZGVzKHRhZy5lbGVtZW50KSkge1xuICAgICAgICBoYXNCZWVuUmVtb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc0JlZW5BZGRlZCAmJiBvblN0YXJ0KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBvblN0YXJ0KHRhZyk7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gZWxlbWVudCBpcyBhZGRlZCwgY2hhbmdlIG9ic2VydmVyIHRvIG9ic2VydmUgcGFyZW50IGluc3RlYWQgb2YgYm9keVxuICAgICAgLy8gSW1wcm92ZSBwZXJmb3JtYW5jZSwgYXMgd2UganVzdCBuZWVkIHRvIGtub3cgaWYgaXQncyBhZGRlZCBvciByZW1vdmVkIGZyb20gdGhlIHBhcmVudCFcbiAgICAgIGlmICghb2JzZXJ2aW5nUGFyZW50KSB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YWcuZWxlbWVudC5wYXJlbnRFbGVtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICAgICAgb2JzZXJ2aW5nUGFyZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzQmVlblJlbW92ZWQgJiYgb25SZW1vdmUpIHtcbiAgICAgIG9uUmVtb3ZlKHRhZyk7XG4gICAgfVxuICB9KTtcblxuICBvYnNlcnZlci5vYnNlcnZlKHRhZy5wYXJlbnQ/LmVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSwge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gb2JzZXJ2ZXI7XG59XG5cbi8qKlxuICogV2lsbCBjYWxsIHtoYW5kbGVyLm9uU3RhcnR9IHdoZW4gdGhlIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIERPTS5cbiAqIEFuZCB3aWxsIGNhbGwge2hhbmRsZXIub25SZW1vdmV9IHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoTGlmZWN5Y2xlID0gKFxuICB0YWc6IENUYWcsXG4gIGhhbmRsZXI6IHtcbiAgICBzdGFydD86ICh0YWc6IENUYWcpID0+IFByb21pc2U8Ym9vbGVhbj4gfCBib29sZWFuO1xuICAgIHJlbW92ZWQ/OiAodGFnOiBDVGFnKSA9PiB2b2lkO1xuICAgIGJlZm9yZVJlbW92ZT86ICh0YWc6IENUYWcpID0+IFByb21pc2U8Ym9vbGVhbj4gfCBib29sZWFuO1xuICB9LFxuKTogQ1RhZyA9PiB7XG4gIG9uTGlmZWN5Y2xlKHRhZywgaGFuZGxlci5zdGFydCwgaGFuZGxlci5yZW1vdmVkLCBoYW5kbGVyLmJlZm9yZVJlbW92ZSk7XG4gIHJldHVybiB0YWc7XG59O1xuXG4vKipcbiAqIEF0dGFjaCB0aGUgZ2l2ZW4gdGFnLiBUaGlzIG1lYW5zIHRoYXQgd2hlbiBvdGhlciB0YWdzIGFyZSBjcmVhdGVkIG1hcmtlZCBhcyBhdHRhY2hhYmxlICh1c2luZyBgPHRhZ19uYW1lPi5hdHRhY2goKWAsIGB0YWcoJzx0YWdfbmFtZT4nLCBbXSwgdHJ1ZSlgKSxcbiAqIHRoZXkgd2lsbCBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZiB0aGlzIHRhZy5cbiAqIFlvdSBjYW4gY2FsbCBhdHRhY2ggbXVsdGlwbGUgdGltZXMsIGFuZCB0aGUgbGFzdCBhdHRhY2ggdGFnIHdpbGwgYmUgdXNlZC5cbiAqIFRoZW4gd2hlbiB5b3UndmUgZmluaXNoZWQsIHlvdSBjYW4gY2FsbCB7QGxpbmsgZGV0YWNofSB0byBnbyBiYWNrIHRvIHRoZSBwcmV2aW91c2x5IGF0dGFjaGVkIHRhZyBpZiB0aGVyZSBpcyBvbmUsIG9yIGNsZWFyIHRoZSBhdHRhY2hlZCB0YWcuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBhdHRhY2goZGl2KCkpO1xuICogZGl2LmF0dGFjaCgpOyAgLy8gYWRkZWQgYXMgY2hpbGQgb2YgZGl2XG4gKiBwLmF0dGFjaCgpOyAgICAvLyBhZGRlZCBhcyBjaGlsZCBvZiBkaXZcbiAqXG4gKiBhdHRhY2goZGl2KCkpOyAvLyBOZXcgZGl2XG4gKiBkaXYuYXR0YWNoKCk7ICAvLyBhZGRlZCBhcyBjaGlsZCBvZiBuZXcgZGl2XG4gKiBwLmF0dGFjaCgpOyAgICAvLyBhZGRlZCBhcyBjaGlsZCBvZiBuZXcgZGl2XG4gKlxuICogZGV0YWNoKCk7ICAgICAgLy8gQmFjayB0byBwcmV2aW91cyBkaXZcbiAqIGRldGFjaCgpOyAgICAgIC8vIE5vIGF0dGFjaGVkIHRhZ1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2godGFnOiBDVGFnKSB7XG4gIGlmIChjb250ZXh0LmF0dGFjaGVkVGFnKSB7XG4gICAgY29udGV4dC5hdHRhY2hlZFRhZ1N0YWNrLnB1c2goY29udGV4dC5hdHRhY2hlZFRhZyk7XG4gIH1cbiAgY29udGV4dC5hdHRhY2hlZFRhZyA9IHRhZztcbiAgcmV0dXJuIHRhZztcbn1cblxuLyoqXG4gKiBEZXRhY2ggdGhlIGN1cnJlbnRseSBhdHRhY2hlZCB0YWcgKHtAbGluayBhdHRhY2h9KS4gSWYgdGhlcmUgd2FzIGFub3RoZXIgYXR0YWNoZWQgdGFnIGJlZm9yZSBpdCB3aWxsIGJlY29tZSB0aGUgY3VycmVudGx5IGF0dGFjaGVkIHRhZy5cbiAqIElmIHRoZXJlIGFyZSBubyBwcmV2aW91cyBhdHRhY2hlZCB0YWdzLCBpdCB3aWxsIGNsZWFyIHRoZSBhdHRhY2hlZCB0YWcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRhY2goKSB7XG4gIGlmIChjb250ZXh0LmF0dGFjaGVkVGFnU3RhY2subGVuZ3RoID4gMCkge1xuICAgIGNvbnRleHQuYXR0YWNoZWRUYWcgPSBjb250ZXh0LmF0dGFjaGVkVGFnU3RhY2sucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dC5hdHRhY2hlZFRhZyA9IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRhY2hlcyBhbGwgYXR0YWNoZWQgdGFncy4gVGhlcmUgd2lsbCBiZSBubyBhdHRhY2hlZCB0YWcgYWZ0ZXIgY2FsbGluZyB0aGlzIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICBjb250ZXh0LmF0dGFjaGVkVGFnID0gbnVsbDtcbiAgY29udGV4dC5hdHRhY2hlZFRhZ1N0YWNrID0gW107XG59XG5cbi8qKlxuICogSXQgbWFrZXMgdGhlIGJvZHkgdGhlIGF0dGFjaGVkIHRhZyAoe0BsaW5rIGF0dGFjaH0pLlxuICogWW91IGNhbiBwYXNzIGluIGEgc2VsZWN0b3IgZm9yIGFuIGVsZW1lbnQgeW91IHdhbnQgdG8gYmUgdGhlIGRlZmF1bHQgYXR0YWNoZWQgdGFnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChvcHRpb25zOiB7IHJvb3Q6IHN0cmluZyB9ID0geyByb290OiAnYm9keScgfSkge1xuICBjb25zdCByb290ID0gbmV3IENUYWcoYCgke29wdGlvbnMucm9vdH0pYCk7XG4gIGF0dGFjaChyb290KTtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8qKiBPdmVycmlkZSBhbnkgdGFnIGZ1bmN0aW9uIHdlIHdhbnQsIHRvIGdpdmUgaXQgc29tZSBjdXN0b20gYmVoYXZpb3VyLCBwcm9jZXNzIHRoZSBjaGlsZHJlbiwgZXRjLi4uICovXG5jb25zdCBpbnRlcmNlcHRvcnM6IHtcbiAgW2s6IHN0cmluZ106IFRhZ0J1aWxkZXIgfCAoKHN0eWxlczogU3R5bGVTZXRbXSkgPT4gQ1RhZyk7XG59ID0ge1xuICB1bDogKGNoaWxkcmVuOiBUYWdDaGlsZHJlbiwgYXR0YWNoOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICByZXR1cm4gdGFnKFxuICAgICAgJ3VsJyxcbiAgICAgIGNoaWxkcmVuLm1hcCgoY2wpID0+IHtcbiAgICAgICAgcmV0dXJuIHRhZygnbGknLCBbY2xdLCBhdHRhY2gpO1xuICAgICAgfSksXG4gICAgKTtcbiAgfSxcbiAgc3R5bGU6IChzdHlsZXM6IFN0eWxlU2V0W10sIGF0dGFjaDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgcmV0dXJuIHRhZygnc3R5bGUnLCBbY29udGV4dC5jc3MuZ2VuZXJhdGVDc3Moc3R5bGVzKV0sIGF0dGFjaCk7XG4gIH0sXG59O1xuXG4vKipcbiAqIExpc3Qgb2YgYWxsIEhUTUwgdGFnIGZ1bmN0aW9ucy4gRnJvbSBgZGl2YCB0byBgYWJicmAgOilcbiAqIElmIHlvdSB3YW50IHRvIGNyZWF0ZSBhbnkgb3RoZXIgdGFnLCB1c2UgdGhlIHtAbGluayB0YWd9IGZ1bmN0aW9uLlxuICpcbiAqIEB0eXBlIHtBbGxUYWdzfVxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjb25zdCB7IGRpdiwgcCwgYWJiciwgaW1nLCBzdHlsZSwgLi4uIH0gPSBhbGxUYWdzO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBhbGxUYWdzOiBBbGxUYWdzID0gbmV3IFByb3h5KFxuICB7fSxcbiAge1xuICAgIGdldDogKHQsIHAsIHIpID0+IHtcbiAgICAgIGNvbnN0IHRhZ05hbWUgPSBwLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCBmbiA9ICguLi5jaGlsZHJlbjogYW55W10pID0+IHtcbiAgICAgICAgaWYgKGludGVyY2VwdG9yc1t0YWdOYW1lXSkge1xuICAgICAgICAgIHJldHVybiBpbnRlcmNlcHRvcnNbdGFnTmFtZV0oY2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFnKHRhZ05hbWUsIGNoaWxkcmVuKTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2F0dGFjaCcsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICguLi5jaGlsZHJlbjogYW55W10pID0+IHtcbiAgICAgICAgICAgIGlmIChpbnRlcmNlcHRvcnNbdGFnTmFtZV0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGludGVyY2VwdG9yc1t0YWdOYW1lXShjaGlsZHJlbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFnKHRhZ05hbWUsIGNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmbjtcbiAgICB9LFxuICB9LFxuKSBhcyBBbGxUYWdzO1xuIiwiaW1wb3J0IHR5cGUgeyBTdGF0ZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwuanMnO1xuXG4vKipcbiAqIGBzdGF0ZWAgY3JlYXRlcyBhIHJlYWN0aXZlIG9iamVjdCB0aGF0IGNhbiB0aGUgYmUgdXNlZCB3aXRoIHRhZ3MgdG8gY3JlYXRlIGRpbmFtaWMgYW5kIHJlYWN0aXZlIGFwcHMuXG4gKiB7QHBhcmFtIGNvbnRlbnR9IGNhbiBiZSBhbiBgb2JqZWN0YCBvciBhbiBgYXJyYXlgLiBPYmplY3RzIGNhbiBiZSBuZXN0ZWQsIGFuZCBldmV5IHByb3BlcnR5IHdpbGwgYmUgcmVhY3RpdmUuXG4gKiBJbiBhcnJheXMsIGxlbmd0aCB3aWxsIGFsc28gYmUgcmVhY3RpdmUuXG4gKlxuICogWW91IGNhbiBwYXNzIGFuIG9wdGlvbmFsIHtAcGFyYW0gY2FsbGJhY2t9LCB0aGF0IHdpbGwgYmUgY2FsbGVkIGFueXRoaW5nIGluIHRoZSBzdGF0ZSBjaGFuZ2VzLlxuICpcbiAqIEFkZGl0aW9uYWxseSB5b3UgY2FuIGxpc3RlbiB0byBpdCBhZnRlciBjcmVhdGluZyBpdDogYHN0YXRlKCkuY2hhbmdlZCgoKSA9PiB7IH0pYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3Qgc3QgPSBzdGF0ZSh7IGNvdW50OiAwIH0pO1xuICogc3QuY2hhbmdlZCgoKSA9PiB7IC4uLiB9KTtcbiAqIHN0LmNvdW50LmNoYW5nZWQoKCkgPT4geyAuLi4gfSk7XG4gKlxuICogc3QuY291bnQrKztcbiAqIHN0LmNvdW50ID0gMztcbiAqXG4gKiBkaXYoKS5oaWRlSWYoc3QuY291bnQpO1xuICogZGl2KCkuZGlzYWJsZUlmKHN0LmNvdW50KTtcbiAqIGRpdih0ZW1wbGF0ZSgnQ291bnQgaXM6ICRjb3VudCcsIHN0KSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlPFQgZXh0ZW5kcyBvYmplY3Q+KFxuICBjb250ZW50OiBULFxuICBjYWxsYmFjaz86IChuZXdWYWx1ZTogVCkgPT4gdm9pZCxcbik6IFN0YXRlPFQ+IHtcbiAgbGV0IF9wcm9wTGlzdGVuZXJzOiB7IFtrOiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG4gIGxldCBfc3RhdGVMaXN0ZW5lcnMgPSBbXTtcblxuICBpZiAoY2FsbGJhY2spIF9zdGF0ZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcblxuICBjb25zdCBhZGRMaXN0ZW5lciA9IChwcm9wLCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICghX3Byb3BMaXN0ZW5lcnNbcHJvcF0pIF9wcm9wTGlzdGVuZXJzW3Byb3BdID0gW107XG4gICAgaWYgKCFfcHJvcExpc3RlbmVyc1twcm9wXS5pbmNsdWRlcyhjYWxsYmFjaykpIHtcbiAgICAgIF9wcm9wTGlzdGVuZXJzW3Byb3BdLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBlbWl0Q2hhbmdlID0gKHRhcmdldCwgcHJvcCkgPT4ge1xuICAgIGlmIChfcHJvcExpc3RlbmVyc1twcm9wXSkge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBfcHJvcExpc3RlbmVyc1twcm9wXSkge1xuICAgICAgICBsaXN0ZW5lcih0YXJnZXRbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgX3N0YXRlTGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcih0YXJnZXQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRDaGFuZ2VkTWV0aG9kID0gKHRhcmdldCwgcHJvcCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlOiBhbnkgPSB0YXJnZXRbcHJvcF07XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzT2JqZWN0KHRhcmdldFtwcm9wXSkpIHtcbiAgICAgICAgdmFsdWUuY2hhbmdlZCA9IChjYWxsYmFjaykgPT4gYWRkTGlzdGVuZXIocHJvcCwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5fX3Byb3RvX18pIHtcbiAgICAgICAgdmFsdWUuX19wcm90b19fLmNoYW5nZWQgPSAoY2FsbGJhY2spID0+IGFkZExpc3RlbmVyKHByb3AsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge31cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBmb3IgKGxldCBwcm9wIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbnRlbnQpKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbnRlbnRbcHJvcF0pIHx8IGNvbnRlbnRbcHJvcF0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgY29udGVudFtwcm9wXSA9IHN0YXRlKGNvbnRlbnRbcHJvcF0sICgpID0+IGVtaXRDaGFuZ2UoY29udGVudCwgcHJvcCkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KGNvbnRlbnQsIHtcbiAgICBkZWxldGVQcm9wZXJ0eTogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCkge1xuICAgICAgZW1pdENoYW5nZSh0YXJnZXQsIHByb3ApO1xuICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICByZXR1cm4gYWRkQ2hhbmdlZE1ldGhvZCh0YXJnZXQsIHByb3ApO1xuICAgIH0sXG4gICAgc2V0OiAodGFyZ2V0LCBwcm9wLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHByb3AgPT0gJ2NoYW5nZWQnKSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICBlbWl0Q2hhbmdlKHRhcmdldCwgcHJvcCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICB9KSBhcyBhbnk7XG5cbiAgcHJveHkuY2hhbmdlZCA9IF9zdGF0ZUxpc3RlbmVycy5wdXNoLmJpbmQoX3N0YXRlTGlzdGVuZXJzKTtcblxuICByZXR1cm4gcHJveHkgYXMgU3RhdGU8VD47XG59XG4iLCJpbXBvcnQgeyByZW1vdmVGcm9tTGlzdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5cbi8qKlxuICogQXMgdGhlIG5hbWUgaW5kaWNhdGVzLCBpdCdzIGEgaW1wbGVtZW50YXRpb24gb2YgYW4gZXZlbnQgZW1pdHRlci4gTGlzdGVuIHRvLCBhbmQgdHJpZ2dlciwgZXZlbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3QgZXZ0ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sPigpO1xuICogZXZ0Lmxpc3RlbihsaXN0ZW5lcik7XG4gKiBldnQuZGlzcGF0Y2godHJ1ZSk7XG4gKiBldnQucmVtb3ZlKGxpc3RlbmVyKTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRFbWl0dGVyPFQ+IHtcbiAgcHJpdmF0ZSBfbGlzdGVuZXJzOiAoKGRhdGE6IFQpID0+IHZvaWQpW10gPSBbXTtcblxuICBsaXN0ZW4oY2FsbGJhY2s6IChkYXRhOiBUKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlKGNhbGxiYWNrOiAoZGF0YTogVCkgPT4gdm9pZCkge1xuICAgIHJlbW92ZUZyb21MaXN0KGNhbGxiYWNrLCB0aGlzLl9saXN0ZW5lcnMpO1xuICB9XG5cbiAgZGlzcGF0Y2goZGF0YT86IFQpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaCgoZWwpID0+IGVsKGRhdGEpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRFbWl0dGVyPFQ+KCkge1xuICByZXR1cm4gbmV3IEV2ZW50RW1pdHRlcjxUPigpO1xufVxuIiwiLypcbiAqIEphdmFTY3JpcHQgUm91dGUgTWF0Y2hlclxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEgXCJDb3dib3lcIiBCZW4gQWxtYW5cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlL1xuICpcbiAqXG4gKiB0cmFuc2xhdGVkIHRvIFRTIGJ5IEBub21icmVrZWZmXG4gKi9cblxuLy8gQ2hhcmFjdGVycyB0byBiZSBlc2NhcGVkIHdpdGggXFwuIFJlZ0V4cCBib3Jyb3dlZCBmcm9tIHRoZSBCYWNrYm9uZSByb3V0ZXJcbi8vIGJ1dCBlc2NhcGVkIChub3RlOiB1bm5lY2Vzc2FyaWx5KSB0byBrZWVwIEpTSGludCBmcm9tIGNvbXBsYWluaW5nLlxuY29uc3QgcmVFc2NhcGUgPSAvW1xcLVxcW1xcXXt9KCkrPy4sXFxcXFxcXiR8I1xcc10vZztcbi8vIE1hdGNoIG5hbWVkIDpwYXJhbSBvciAqc3BsYXQgcGxhY2Vob2xkZXJzLlxuY29uc3QgcmVQYXJhbSA9IC8oWzoqXSkoXFx3KykvZztcblxuLy8gVGVzdCB0byBzZWUgaWYgYSB2YWx1ZSBtYXRjaGVzIHRoZSBjb3JyZXNwb25kaW5nIHJ1bGUuXG5mdW5jdGlvbiB2YWxpZGF0ZVJ1bGUocnVsZSwgdmFsdWUpIHtcbiAgLy8gRm9yIGEgZ2l2ZW4gcnVsZSwgZ2V0IHRoZSBmaXJzdCBsZXR0ZXIgb2YgdGhlIHN0cmluZyBuYW1lIG9mIGl0c1xuICAvLyBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gXCJSXCIgLT4gUmVnRXhwLCBcIkZcIiAtPiBGdW5jdGlvbiAodGhlc2Ugc2hvdWxkbid0XG4gIC8vIGNvbmZsaWN0IHdpdGggYW55IG90aGVyIHR5cGVzIG9uZSBtaWdodCBzcGVjaWZ5KS4gTm90ZTogaW5zdGVhZCBvZlxuICAvLyBnZXR0aW5nIC50b1N0cmluZyBmcm9tIGEgbmV3IG9iamVjdCB7fSBvciBPYmplY3QucHJvdG90eXBlLCBJJ20gYXNzdW1pbmdcbiAgLy8gdGhhdCBleHBvcnRzIHdpbGwgYWx3YXlzIGJlIGFuIG9iamVjdCwgYW5kIHVzaW5nIGl0cyAudG9TdHJpbmcgbWV0aG9kLlxuICAvLyBCYWQgaWRlYT8gTGV0IG1lIGtub3cgYnkgZmlsaW5nIGFuIGlzc3VlXG4gIHZhciB0eXBlID0gZXhwb3J0cy50b1N0cmluZy5jYWxsKHJ1bGUpLmNoYXJBdCg4KTtcbiAgLy8gSWYgcmVnZXhwLCBtYXRjaC4gSWYgZnVuY3Rpb24sIGludm9rZS4gT3RoZXJ3aXNlLCBjb21wYXJlLiBOb3RlIHRoYXQgPT1cbiAgLy8gaXMgdXNlZCBiZWNhdXNlIHR5cGUgY29lcmNpb24gaXMgbmVlZGVkLCBhcyBgdmFsdWVgIHdpbGwgYWx3YXlzIGJlIGFcbiAgLy8gc3RyaW5nLCBidXQgYHJ1bGVgIG1pZ2h0IG5vdC5cbiAgcmV0dXJuIHR5cGUgPT09ICdSJ1xuICAgID8gcnVsZS50ZXN0KHZhbHVlKVxuICAgIDogdHlwZSA9PT0gJ0YnXG4gICAgPyBydWxlKHZhbHVlKVxuICAgIDogcnVsZSA9PSB2YWx1ZTtcbn1cblxuZXhwb3J0IHR5cGUgUm91dGVNYXRjaGVyID0ge1xuICBwYXJzZShzdHI6IGFueSk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCBudWxsO1xuICBzdHJpbmdpZnkob2JqOiBvYmplY3QpOiBzdHJpbmc7XG59O1xuXG4vLyBQYXNzIGluIGEgcm91dGUgc3RyaW5nIChvciBSZWdFeHApIHBsdXMgYW4gb3B0aW9uYWwgbWFwIG9mIHJ1bGVzLCBhbmQgZ2V0XG4vLyBiYWNrIGFuIG9iamVjdCB3aXRoIC5wYXJzZSBhbmQgLnN0cmluZ2lmeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHJvdXRlTWF0Y2hlciA9IChcbiAgcm91dGU6IHN0cmluZyB8IFJlZ0V4cCxcbiAgcnVsZXM6IHsgW2s6IHN0cmluZ106IFJlZ0V4cCB8ICgodmFsdWUpID0+IGJvb2xlYW4pIH0gPSB7fSxcbik6IFJvdXRlTWF0Y2hlciA9PiB7XG4gIC8vIE9iamVjdCB0byBiZSByZXR1cm5lZC4gVGhlIHB1YmxpYyBBUEkuXG4gIGxldCBzZWxmOiBQYXJ0aWFsPFJvdXRlTWF0Y2hlcj4gPSB7fTtcblxuICAvLyBNYXRjaGVkIHBhcmFtIG9yIHNwbGF0IG5hbWVzLCBpbiBvcmRlclxuICBsZXQgbmFtZXMgPSBbXTtcbiAgLy8gUm91dGUgbWF0Y2hpbmcgUmVnRXhwLlxuICBsZXQgcmUgPSByb3V0ZTtcblxuICAvLyBCdWlsZCByb3V0ZSBSZWdFeHAgZnJvbSBwYXNzZWQgc3RyaW5nLlxuICBpZiAodHlwZW9mIHJlID09PSAnc3RyaW5nJykge1xuICAgIC8vIEVzY2FwZSBzcGVjaWFsIGNoYXJzLlxuICAgIHJlID0gcmUucmVwbGFjZShyZUVzY2FwZSwgJ1xcXFwkJicpO1xuICAgIC8vIFJlcGxhY2UgYW55IDpwYXJhbSBvciAqc3BsYXQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2FwdHVyZSBncm91cC5cbiAgICByZSA9IHJlLnJlcGxhY2UocmVQYXJhbSwgZnVuY3Rpb24gKF8sIG1vZGUsIG5hbWUpIHtcbiAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAvLyA6cGFyYW0gc2hvdWxkIGNhcHR1cmUgdW50aWwgdGhlIG5leHQgLyBvciBFT0wsIHdoaWxlICpzcGxhdCBzaG91bGRcbiAgICAgIC8vIGNhcHR1cmUgdW50aWwgdGhlIG5leHQgOnBhcmFtLCAqc3BsYXQsIG9yIEVPTC5cbiAgICAgIHJldHVybiBtb2RlID09PSAnOicgPyAnKFteL10qKScgOiAnKC4qKSc7XG4gICAgfSk7XG4gICAgLy8gQWRkIF4vJCBhbmNob3JzIGFuZCBjcmVhdGUgdGhlIGFjdHVhbCBSZWdFeHAuXG4gICAgcmUgPSBuZXcgUmVnRXhwKCdeJyArIHJlICsgJyQnKTtcblxuICAgIC8vIE1hdGNoIHRoZSBwYXNzZWQgdXJsIGFnYWluc3QgdGhlIHJvdXRlLCByZXR1cm5pbmcgYW4gb2JqZWN0IG9mIHBhcmFtc1xuICAgIC8vIGFuZCB2YWx1ZXMuXG4gICAgc2VsZi5wYXJzZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGxldCBwYXJhbSwgdmFsdWU7XG4gICAgICBsZXQgcGFyYW1zID0ge307XG4gICAgICBsZXQgbWF0Y2hlcyA9IHVybC5tYXRjaChyZSk7XG4gICAgICAvLyBJZiBubyBtYXRjaGVzLCByZXR1cm4gbnVsbC5cbiAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCBhbGwgbWF0Y2hlZCA6cGFyYW0gLyAqc3BsYXQgdmFsdWVzIGludG8gdGhlIHBhcmFtcyBvYmplY3QuXG4gICAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBwYXJhbSA9IG5hbWVzW2krK107XG4gICAgICAgIHZhbHVlID0gbWF0Y2hlc1tpXTtcbiAgICAgICAgLy8gSWYgYSBydWxlIGV4aXN0cyBmb3IgdGhpZSBwYXJhbSBhbmQgaXQgZG9lc24ndCB2YWxpZGF0ZSwgcmV0dXJuIG51bGwuXG4gICAgICAgIGlmIChydWxlcyAmJiBwYXJhbSBpbiBydWxlcyAmJiAhdmFsaWRhdGVSdWxlKHJ1bGVzW3BhcmFtXSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zW3BhcmFtXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9O1xuXG4gICAgLy8gQnVpbGQgcGF0aCBieSBpbnNlcnRpbmcgdGhlIGdpdmVuIHBhcmFtcyBpbnRvIHRoZSByb3V0ZS5cbiAgICBzZWxmLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIGxldCBwYXJhbSwgcmU7XG4gICAgICBsZXQgcmVzdWx0ID0gcm91dGUgYXMgc3RyaW5nO1xuICAgICAgLy8gSW5zZXJ0IGVhY2ggcGFzc2VkIHBhcmFtIGludG8gdGhlIHJvdXRlIHN0cmluZy4gTm90ZSB0aGF0IHRoaXMgbG9vcFxuICAgICAgLy8gZG9lc24ndCBjaGVjayAuaGFzT3duUHJvcGVydHkgYmVjYXVzZSB0aGlzIHNjcmlwdCBkb2Vzbid0IHN1cHBvcnRcbiAgICAgIC8vIG1vZGlmaWNhdGlvbnMgdG8gT2JqZWN0LnByb3RvdHlwZS5cbiAgICAgIGZvciAocGFyYW0gaW4gcGFyYW1zKSB7XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cCgnWzoqXScgKyBwYXJhbSArICdcXFxcYicpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShyZSwgcGFyYW1zW3BhcmFtXSk7XG4gICAgICB9XG4gICAgICAvLyBNaXNzaW5nIHBhcmFtcyBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBlbXB0eSBzdHJpbmcuXG4gICAgICByZXR1cm4gcmVzdWx0LnJlcGxhY2UocmVQYXJhbSwgJycpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gUmVnRXhwIHJvdXRlIHdhcyBwYXNzZWQuIFRoaXMgaXMgc3VwZXItc2ltcGxlLlxuICAgIHNlbGYucGFyc2UgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICBsZXQgbWF0Y2hlcyA9IHVybC5tYXRjaChyZSk7XG4gICAgICByZXR1cm4gbWF0Y2hlcyAmJiB7IGNhcHR1cmVzOiBtYXRjaGVzLnNsaWNlKDEpIH07XG4gICAgfTtcbiAgICAvLyBUaGVyZSdzIG5vIG1lYW5pbmdmdWwgd2F5IHRvIHN0cmluZ2lmeSBiYXNlZCBvbiBhIFJlZ0V4cCByb3V0ZSwgc29cbiAgICAvLyByZXR1cm4gZW1wdHkgc3RyaW5nLlxuICAgIHNlbGYuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gc2VsZiBhcyBSb3V0ZU1hdGNoZXI7XG59O1xuIiwiaW1wb3J0IHsgYWxsVGFncywgQ1RhZywgb25MaWZlY3ljbGUgfSBmcm9tICcuLi90YWcuanMnO1xuaW1wb3J0IHsgUm91dGVNYXRjaGVyLCByb3V0ZU1hdGNoZXIgfSBmcm9tICcuL3JvdXRlLW1hdGNoZXIuanMnO1xuXG5jb25zdCB7IGRpdiwgYSB9ID0gYWxsVGFncztcblxudHlwZSBSb3V0ZUJ1aWxkZXIgPSAocm91dGVyOiBSb3V0ZXI8YW55PikgPT4gQ1RhZztcbnR5cGUgUm91dGUgPSBSb3V0ZUJ1aWxkZXIgfCBzdHJpbmc7XG5cbnR5cGUgUm91dGVyT3B0aW9uczxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUm91dGU+ID0ge30+ID0ge1xuICByb290UGFyZW50OiBDVGFnO1xuICByb3V0ZXM6IFQ7XG4gIGluaXRpYWxSb3V0ZTogc3RyaW5nO1xuICBmYWxsYmFja1JvdXRlPzogc3RyaW5nO1xuICBub1JvdXRlQnVpbGRlcj86IFJvdXRlQnVpbGRlcjtcbiAgd2luZG93PzogV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXM7XG4gIHN0YXJ0PzogKHJvdXRlOiBDVGFnKSA9PiBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbjtcbiAgcmVtb3ZlPzogKHJvdXRlOiBDVGFnKSA9PiBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbjtcbiAgYmVmb3JlUmVtb3ZlPzogKHJvdXRlOiBDVGFnKSA9PiBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjbGFzcyBSb3V0ZXI8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFJvdXRlPiA9IHt9PiB7XG4gIHByaXZhdGUgX29wdGlvbnM6IFJvdXRlck9wdGlvbnM8VD47XG4gIHByaXZhdGUgX3JvdXRlczogUmVjb3JkPHN0cmluZywgQ1RhZz4gPSB7fTtcbiAgcHJpdmF0ZSBfd2luZG93OiBXaW5kb3cgJiB0eXBlb2YgZ2xvYmFsVGhpcztcbiAgcHJpdmF0ZSBfbG9jYXRpb246IExvY2F0aW9uO1xuICBwcml2YXRlIF9oaXN0b3J5OiBIaXN0b3J5O1xuICBwcml2YXRlIF9jdXJyZW50Um91dGU/OiBzdHJpbmc7XG4gIHByaXZhdGUgX2N1cnJlbnRSb3V0ZVRhZz86IENUYWc7XG4gIHByaXZhdGUgX3Jvb3RQYXJlbnQ6IENUYWc7XG4gIHByaXZhdGUgX3JvdXRlTWF0Y2hlcnM6IHsgbWF0Y2hlcjogUm91dGVNYXRjaGVyOyBrZXk6IHN0cmluZyB9W10gPSBbXTtcblxuICBwdWJsaWMgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIHB1YmxpYyBxdWVyeTogVVJMU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gIHB1YmxpYyBnZXQgY3VycmVudFJvdXRlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRSb3V0ZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJvdXRlck9wdGlvbnM8VD4pIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9yb290UGFyZW50ID0gb3B0aW9ucy5yb290UGFyZW50O1xuICAgIHRoaXMuX3dpbmRvdyA9IG9wdGlvbnMud2luZG93ID8/IHdpbmRvdztcbiAgICB0aGlzLl9sb2NhdGlvbiA9IHRoaXMuX3dpbmRvdy5sb2NhdGlvbjtcbiAgICB0aGlzLl9oaXN0b3J5ID0gdGhpcy5fd2luZG93Lmhpc3Rvcnk7XG5cbiAgICB0aGlzLl9pbml0Um91dGVNYXRjaGVycygpO1xuICAgIHRoaXMuX21vZGlmeVB1c2hTdGF0ZSgpO1xuICAgIHRoaXMuX2xpc3RlbkV2ZW50cygpO1xuXG4gICAgdGhpcy5uYXZpZ2F0ZSh0aGlzLl9vcHRpb25zLmluaXRpYWxSb3V0ZSk7XG4gIH1cblxuICBwdWJsaWMgbmF2aWdhdGUocGF0aDogc3RyaW5nLCBxdWVyeT86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcbiAgICBjb25zdCBxdWVyeVNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnkpO1xuICAgIGNvbnN0IHF1ZXJ5U3RyID0gcXVlcnlTZWFyY2gudG9TdHJpbmcoKTtcbiAgICBjb25zdCBjUXVlcnkgPSB0aGlzLnF1ZXJ5LnRvU3RyaW5nKCk7XG5cbiAgICBpZiAocGF0aCAhPSB0aGlzLl9jdXJyZW50Um91dGUgfHwgcXVlcnlTdHIgIT09IGNRdWVyeSkge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5U2VhcmNoO1xuICAgICAgdGhpcy5faGlzdG9yeS5wdXNoU3RhdGUoXG4gICAgICAgICdkYXRhJyxcbiAgICAgICAgJycsXG4gICAgICAgIHBhdGggKyAocXVlcnlTdHIgPyAnPycgKyBxdWVyeVN0ciA6ICcnKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfc2V0Um91dGUoKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRSb3V0ZVRhZykge1xuICAgICAgYXdhaXQgdGhpcy5fY3VycmVudFJvdXRlVGFnLmhpZGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCByb3V0ZSA9IHRoaXMuX2dldFJvdXRlKCk7XG5cbiAgICBpZiAocm91dGUucGFyZW50KSB7XG4gICAgICBhd2FpdCByb3V0ZS5zaG93KCk7XG4gICAgfSAvL1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5faG9va0xpZmVjeWNsZShyb3V0ZSk7XG4gICAgICB0aGlzLl9yb290UGFyZW50LmFwcGVuZChyb3V0ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VycmVudFJvdXRlVGFnID0gcm91dGU7XG4gIH1cblxuICBwcml2YXRlIF9ob29rTGlmZWN5Y2xlKHJvdXRlOiBDVGFnKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gICAgaWYgKCFvcHRpb25zLnJlbW92ZSAmJiAhb3B0aW9ucy5zdGFydCkgcmV0dXJuO1xuXG4gICAgb25MaWZlY3ljbGUoXG4gICAgICByb3V0ZSxcbiAgICAgIG9wdGlvbnMuc3RhcnQgPyBvcHRpb25zLnN0YXJ0IDogbnVsbCxcbiAgICAgIG9wdGlvbnMucmVtb3ZlID8gb3B0aW9ucy5yZW1vdmUgOiBudWxsLFxuICAgICAgb3B0aW9ucy5iZWZvcmVSZW1vdmUgPyBvcHRpb25zLmJlZm9yZVJlbW92ZSA6IG51bGwsXG4gICAgKTtcbiAgfVxuXG4gIC8vIEZvbGxvdyBhbGlhc2VzIHVudGlsIGEgdmFsaWQgcm91dGUgaXMgZm91bmRcbiAgcHJpdmF0ZSBfZ2V0RWZmZWN0aXZlUm91dGUoKSB7XG4gICAgbGV0IGVmZmVjdGl2ZVJvdXRlID0gdGhpcy5fY3VycmVudFJvdXRlO1xuICAgIGxldCBtYXhDYWxscyA9IDEwMDAwO1xuICAgIGxldCBhbGlhcztcblxuICAgIHdoaWxlIChcbiAgICAgIHR5cGVvZiAoYWxpYXMgPSB0aGlzLl9vcHRpb25zLnJvdXRlc1tlZmZlY3RpdmVSb3V0ZV0pID09PSAnc3RyaW5nJyAmJlxuICAgICAgbWF4Q2FsbHMtLVxuICAgICkge1xuICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWZmZWN0aXZlUm91dGUgPSBhbGlhcztcbiAgICAgIH0gZWxzZSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gZWZmZWN0aXZlUm91dGU7XG4gIH1cblxuICBwcml2YXRlIF9nZXRSb3V0ZSgpIHtcbiAgICBsZXQgbmF2aWdhdGVkUm91dGUgPSB0aGlzLl9nZXRFZmZlY3RpdmVSb3V0ZSgpO1xuICAgIGxldCBlZmZlY3RpdmVSb3V0ZSA9IG5hdmlnYXRlZFJvdXRlO1xuICAgIHRoaXMucXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHRoaXMuX2xvY2F0aW9uLnNlYXJjaCk7XG5cbiAgICAvLyBGaW5kIG1hdGNoZXJcbiAgICBsZXQgbWF0Y2hlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IG1hdGNoZXIgb2YgdGhpcy5fcm91dGVNYXRjaGVycykge1xuICAgICAgY29uc3QgcGFyYW1zID0gbWF0Y2hlci5tYXRjaGVyLnBhcnNlKGVmZmVjdGl2ZVJvdXRlKTtcbiAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgZWZmZWN0aXZlUm91dGUgPSBtYXRjaGVyLmtleTtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgIGVmZmVjdGl2ZVJvdXRlID0gdGhpcy5fb3B0aW9ucy5mYWxsYmFja1JvdXRlO1xuICAgIH1cblxuICAgIGlmICghKGVmZmVjdGl2ZVJvdXRlIGluIHRoaXMuX29wdGlvbnMucm91dGVzKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMubm9Sb3V0ZUJ1aWxkZXJcbiAgICAgICAgPyB0aGlzLl9vcHRpb25zLm5vUm91dGVCdWlsZGVyKHRoaXMpXG4gICAgICAgIDogZGl2KCdObyByb3V0ZSBmb3VuZCBmb3I6ICcgKyBuYXZpZ2F0ZWRSb3V0ZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHJvdXRlIGlzIGFscmVhZHkgYnVpbHQgYmVmb3JlLCBqdXN0IHJldHVybiB0aGF0XG4gICAgaWYgKHRoaXMuX3JvdXRlc1tlZmZlY3RpdmVSb3V0ZV0pIHtcbiAgICAgIHRoaXMuX3JvdXRlc1tlZmZlY3RpdmVSb3V0ZV0uc2hvdygpO1xuICAgICAgcmV0dXJuIHRoaXMuX3JvdXRlc1tlZmZlY3RpdmVSb3V0ZV07XG4gICAgfVxuXG4gICAgbGV0IHJvdXRlQnVpbGRlciA9IHRoaXMuX29wdGlvbnMucm91dGVzW2VmZmVjdGl2ZVJvdXRlXTtcbiAgICBpZiAodHlwZW9mIHJvdXRlQnVpbGRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gZmluZCByb3V0ZSBidWlsZGVyIGZvciAnICsgdGhpcy5fY3VycmVudFJvdXRlKTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLl9yb3V0ZXNbZWZmZWN0aXZlUm91dGVdID0gcm91dGVCdWlsZGVyKHRoaXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldEN1cnJlbnRSb3V0ZSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50Um91dGUgPT0gdGhpcy5fbG9jYXRpb24ucGF0aG5hbWUpIHJldHVybjtcblxuICAgIHRoaXMuX2N1cnJlbnRSb3V0ZSA9IHRoaXMuX2xvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHRoaXMuX3NldFJvdXRlKCk7XG4gIH1cblxuICBwcml2YXRlIF9saXN0ZW5FdmVudHMoKSB7XG4gICAgdGhpcy5fd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5fc2V0Q3VycmVudFJvdXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3B1c2hzdGF0ZScsXG4gICAgICB0aGlzLl9zZXRDdXJyZW50Um91dGUuYmluZCh0aGlzKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfbW9kaWZ5UHVzaFN0YXRlKCkge1xuICAgIGNvbnN0IHB1c2hTdGF0ZSA9IHRoaXMuX2hpc3RvcnkucHVzaFN0YXRlO1xuICAgIHRoaXMuX2hpc3RvcnkucHVzaFN0YXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHB1c2hTdGF0ZS5jYWxsKHRoaXMuX2hpc3RvcnksIC4uLmFyZ3MpO1xuICAgICAgdGhpcy5fd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IHdpbmRvdy5FdmVudCgncHVzaHN0YXRlJykpO1xuICAgIH07XG4gIH1cblxuICBwdWJsaWMgX2luaXRSb3V0ZU1hdGNoZXJzKCkge1xuICAgIGZvciAobGV0IG1hdGNoZXJTdHIgaW4gdGhpcy5fb3B0aW9ucy5yb3V0ZXMpIHtcbiAgICAgIHRoaXMuX3JvdXRlTWF0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleTogbWF0Y2hlclN0cixcbiAgICAgICAgbWF0Y2hlcjogcm91dGVNYXRjaGVyKG1hdGNoZXJTdHIpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBsZXQgcm91dGVyOiBSb3V0ZXI8YW55PiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSb3V0ZXI8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFJvdXRlPiA9IHt9PihcbiAgb3B0czogUm91dGVyT3B0aW9uczxUPixcbikge1xuICByZXR1cm4gKHJvdXRlciA9IG5ldyBSb3V0ZXI8VD4ob3B0cykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGluayhcbiAgY2hpbGQ6IHN0cmluZyB8IENUYWcsXG4gIHBhdGgsXG4gIHF1ZXJ5PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbikge1xuICByZXR1cm4gYShjaGlsZClcbiAgICAuYWRkQXR0cignaHJlZicsICdqYXZhc2NyaXB0OjsnKVxuICAgIC5zZXRTdHlsZSh7IG1hcmdpbjogJzAgOHB4IDAgMCcgfSlcbiAgICAuY2xpY2tlZCgoKSA9PiB7XG4gICAgICBpZiAoIXJvdXRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpbmsgY2FuXFx0IG5hdmlnYXRlLCB0aGVyZSBpcyBubyByb3V0ZXIgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIHJvdXRlci5uYXZpZ2F0ZShwYXRoLCBxdWVyeSk7XG4gICAgfSk7XG59XG4iLCIvLyBUaGUgbWFpbiBmaWxlIG9mIHRoZSBwcm9qZWN0LiBVc2VyJ3Mgd2lsbCB1c3VhbGx5IGltcG9ydCB0aGlzLlxuXG5leHBvcnQgKiBmcm9tICcuL3RhZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3N0YXRlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY3NzLWdlbmVyYXRvci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWwuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90ZXh0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZXZlbnRzLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcm91dGluZy9yb3V0aW5nLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge307XG5cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJlbW92ZUZyb21MaXN0IiwiaXRlbSIsImxpc3QiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjYW1lbFRvRGFzaCIsInN0ciIsInJlcGxhY2UiLCJ2YWwiLCJ0b0xvd2VyQ2FzZSIsImlzT2JqZWN0IiwiQXJyYXkiLCJ0b0pzb24iLCJwb3NzaWJseUpzb25TdHJpbmciLCJKU09OIiwicGFyc2UiLCJmcm9tSnNvbiIsInBvc3NpYmx5SnNvbiIsInN0cmluZ2lmeSIsImNhbGxPclJldHVybiIsImFyZ3MiLCJDc3NHZW5lcmF0b3IiLCJnZW5lcmF0ZUNzcyIsInN0eWxlU2hlZXQiLCJzdHlsZXNoZWV0cyIsImdlbmVyYXRlZENzcyIsInNoZWV0IiwidGhpcyIsImdlbmVyYXRlQmxvY2siLCJzZWxlY3RvciIsInN0eWxlIiwiZ2VuZXJhdGVCbG9ja0NvbnRlbnQiLCJqb2luIiwiaW5zaWRlIiwiYmxvY2tzIiwicHVzaCIsImdlbmVyYXRlU3R5bGUiLCJ1bnNoaWZ0IiwibmFtZSIsInZhbHVlIiwidGV4dFRlbXBsYXRlIiwidmFsdWVzIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJpbnRlcnBvbGF0ZVBhdHRlcm4iLCJ1cGRhdGVOb2RlIiwibm9kZVZhbHVlIiwibSIsImcxIiwidG9TdHJpbmciLCJpbmNsdWRlcyIsImNoYW5nZWQiLCJjb250ZXh0IiwiYXR0YWNoZWRUYWciLCJhdHRhY2hlZFRhZ1N0YWNrIiwiY3NzIiwiYXR0YWNoZWQiLCJDVGFnIiwicGFyZW50IiwiX3BhcmVudCIsIm5ld1BhcmVudCIsImNoaWxkcmVuIiwiX2dldEVsZW1lbnRDaGlsZHJlbiIsImVsZW1lbnQiLCJfY2FjaGVkQ2hpbGRyZW4iLCJzZXRWYWx1ZSIsIm5ld1ZhbHVlIiwiY29uc3VtZVZhbHVlIiwiY2xlYXIiLCJpZCIsInNldElkIiwiY29uc3RydWN0b3IiLCJhcmcwIiwiYXR0YWNoYWJsZSIsIl9jaGlsZHJlbiIsIl9hdHRhY2hhYmxlIiwiX21ldGEiLCJpc0hpZGRlbiIsIm5leHRTaWJsaW5nSUQiLCJtYXRjaCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJFcnJvciIsImFwcGVuZCIsImxlbmd0aCIsInNldENoaWxkcmVuIiwicmVwbGFjZUNoaWxkcmVuIiwiX21hcENoaWxkcmVuIiwicHJlcGVuZCIsImNvbnN1bWUiLCJjb25zdW1hYmxlIiwiY29uc3VtZXIiLCJzaG93IiwiZXhwZWN0ZWRJbmRleCIsImhpZGRlbkJlZm9yZSIsImkiLCJjaGlsZCIsIm5leHRFbCIsImNoaWxkTm9kZXMiLCJpbnNlcnRCZWZvcmUiLCJoaWRlIiwicmVtb3ZlIiwiZG9JZiIsImlmVHJ1ZSIsImlmRmFsc2UiLCJpbnZlcnQiLCJ0ZW1wIiwiY2FsbGJhY2siLCJkb0lmTm90IiwiaGlkZUlmIiwiaGFuZGxlSGlkZSIsImNvcnJlY3RlZFZhbHVlIiwiaGlkZUlmTm90IiwiY2xhc3NJZiIsImNsYXNzZXMiLCJhZGRDbGFzcyIsInJtQ2xhc3MiLCJjbGFzc0lmTm90IiwidGV4dElmIiwidGV4dCIsImVsc2VUZXh0IiwidGV4dElmTm90IiwiYXR0cklmIiwiYXR0ciIsImFkZEF0dHIiLCJybUF0dHIiLCJhdHRySWZOb3QiLCJkaXNhYmxlSWYiLCJkaXNhYmxlSWZOb3QiLCJzdHlsZUlmIiwiYWRkU3R5bGUiLCJybVN0eWxlIiwic3R5bGVJZk5vdCIsInN0eWxlc0lmIiwic3R5bGVzIiwic2V0U3R5bGUiLCJrZXlzIiwic3R5bGVzSWZOb3QiLCJsaXN0ZW4iLCJ0YWciLCJldnQiLCJvbiIsIm90aGVyIiwibmV3VGV4dCIsInN0IiwidGV4dENvbnRlbnQiLCJjb25maWciLCJzZXRBdHRycyIsImNsYXNzTGlzdCIsImNsYXNzTmFtZSIsImNsYXNzTmFtZXMiLCJhZGQiLCJoYXNDbGFzcyIsImNvbnRhaW5zIiwicmVwbGFjZUNsYXNzIiwidGFyZ2V0Q2xhc3MiLCJ0b2dnbGVDbGFzcyIsInByb3BlcnR5Iiwic3R5bGVOYW1lcyIsInJlbW92ZVByb3BlcnR5IiwiaGFzU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiYXR0cnMiLCJhdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiaGFzQXR0ciIsImdldEF0dHIiLCJ3aGVuIiwiZXZ0TmFtZSIsImZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbGlja2VkIiwia2V5UHJlc3NlZCIsIl8iLCJjb2RlIiwic3VibWl0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiSW5wdXRFdmVudCIsImRpc2FibGUiLCJzZXREaXNhYmxlZCIsImVuYWJsZSIsImRpc2FibGVkIiwicSIsImZpbmQiLCJwcmVkaWNhdGUiLCJmaW5kVGFnIiwiX3NldENoaWxkcmVuUGFyZW50IiwiX2NoaWxkcmVuRmlsdGVyUHJlZGljYXRlIiwiX2dldEVsZW1lbnRGb3JDaGlsZCIsImNsIiwiTm9kZSIsIl9tdXRhdGlvbk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIl9zZXRDYWNoZWRDaGlsZHJlbiIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJub2RlVHlwZSIsIm1hcCIsImJpbmQiLCJmaWx0ZXIiLCJhdHRhY2giLCJvbkxpZmVjeWNsZSIsIm9uU3RhcnQiLCJvblJlbW92ZSIsImJlZm9yZVJlbW92ZSIsIm9ic2VydmluZ1BhcmVudCIsInRlbXBFbFJlbW92ZSIsInJlc3VsdCIsIlByb21pc2UiLCJ0ZW1wT25TdGFydCIsIm9ic2VydmVyIiwibXV0YXRpb25zIiwiaGFzQmVlbkFkZGVkIiwiaGFzQmVlblJlbW92ZWQiLCJtdXQiLCJmcm9tIiwiYWRkZWROb2RlcyIsInJlbW92ZWROb2RlcyIsImRpc2Nvbm5lY3QiLCJwYXJlbnRFbGVtZW50IiwiYm9keSIsInN1YnRyZWUiLCJ3aXRoTGlmZWN5Y2xlIiwiaGFuZGxlciIsInN0YXJ0IiwicmVtb3ZlZCIsImRldGFjaCIsInBvcCIsImRldGFjaEFsbCIsImluaXQiLCJvcHRpb25zIiwicm9vdCIsImludGVyY2VwdG9ycyIsInVsIiwiYWxsVGFncyIsIlByb3h5IiwidCIsInAiLCJyIiwidGFnTmFtZSIsInN0YXRlIiwiY29udGVudCIsIl9wcm9wTGlzdGVuZXJzIiwiX3N0YXRlTGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJlbWl0Q2hhbmdlIiwidGFyZ2V0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInByb3h5IiwiZGVsZXRlUHJvcGVydHkiLCJfX3Byb3RvX18iLCJlcnJvciIsImFkZENoYW5nZWRNZXRob2QiLCJzZXQiLCJFdmVudEVtaXR0ZXIiLCJfbGlzdGVuZXJzIiwiZGlzcGF0Y2giLCJkYXRhIiwiZm9yRWFjaCIsImVsIiwiZXZlbnRFbWl0dGVyIiwicmVFc2NhcGUiLCJyZVBhcmFtIiwidmFsaWRhdGVSdWxlIiwicnVsZSIsInR5cGUiLCJjaGFyQXQiLCJ0ZXN0Iiwicm91dGVNYXRjaGVyIiwicm91dGUiLCJydWxlcyIsInNlbGYiLCJuYW1lcyIsInJlIiwibW9kZSIsIlJlZ0V4cCIsInVybCIsInBhcmFtIiwicGFyYW1zIiwibWF0Y2hlcyIsImNhcHR1cmVzIiwic2xpY2UiLCJkaXYiLCJhIiwiUm91dGVyIiwiY3VycmVudFJvdXRlIiwiX2N1cnJlbnRSb3V0ZSIsIl9yb3V0ZXMiLCJfcm91dGVNYXRjaGVycyIsInF1ZXJ5IiwiVVJMU2VhcmNoUGFyYW1zIiwiX29wdGlvbnMiLCJfcm9vdFBhcmVudCIsInJvb3RQYXJlbnQiLCJfd2luZG93Iiwid2luZG93IiwiX2xvY2F0aW9uIiwibG9jYXRpb24iLCJfaGlzdG9yeSIsImhpc3RvcnkiLCJfaW5pdFJvdXRlTWF0Y2hlcnMiLCJfbW9kaWZ5UHVzaFN0YXRlIiwiX2xpc3RlbkV2ZW50cyIsIm5hdmlnYXRlIiwiaW5pdGlhbFJvdXRlIiwicGF0aCIsInF1ZXJ5U2VhcmNoIiwicXVlcnlTdHIiLCJjUXVlcnkiLCJwdXNoU3RhdGUiLCJfc2V0Um91dGUiLCJfY3VycmVudFJvdXRlVGFnIiwiX2dldFJvdXRlIiwiX2hvb2tMaWZlY3ljbGUiLCJfZ2V0RWZmZWN0aXZlUm91dGUiLCJhbGlhcyIsImVmZmVjdGl2ZVJvdXRlIiwibWF4Q2FsbHMiLCJyb3V0ZXMiLCJuYXZpZ2F0ZWRSb3V0ZSIsInNlYXJjaCIsIm1hdGNoZWQiLCJtYXRjaGVyIiwiZmFsbGJhY2tSb3V0ZSIsIm5vUm91dGVCdWlsZGVyIiwicm91dGVCdWlsZGVyIiwiX3NldEN1cnJlbnRSb3V0ZSIsInBhdGhuYW1lIiwiRXZlbnQiLCJtYXRjaGVyU3RyIiwicm91dGVyIiwibWFrZVJvdXRlciIsIm9wdHMiLCJMaW5rIiwibWFyZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==